(function(a){var gb={chart:function(){return this.data("data")},destroy:function(){var a=this.data("data");if(a){a._unbind();this.removeData("data")}},option:function(b,c){var a=this.data("data");if(!a)return;if(!c)return a.options[b];a.options[b]=c;a._init(a.options)},update:function(c){var b=this.data("data");if(!b)return this;var d=a.extend(false,{},b.options,c||{});b._init(d)},todataurl:function(b){var a=this.data("data");return!a?null:a.toDataURL(b)},highlightdata:function(b){var a=this.data("data");a&&a.highlightData(b)},ismouseover:function(){var a=this.data("data");return a?a.isMouseOver:false}};a.fn.jqChart=function(b,c,e){if(typeof b==="object")c=b;else if(typeof b==="string"){b=b.toLowerCase();if(gb[b])return gb[b].call(this,c,e);else a.error("Method "+method+" does not exist on jQuery.jqChart")}var d=this.data("data");if(!d){d=new fb(this,c);this.data("data",d)}d._init(c);return this};a.fn.jqChart.support_canvas=function(){return!!document.createElement("canvas").getContext};a.fn.jqChart.use_excanvas=a.browser.msie&&!a.fn.jqChart.support_canvas()?true:false;a.fn.jqChart.defaults={title:{margin:8,font:"22px sans-serif"},tooltips:{disabled:false,type:"normal",borderColor:"auto",snapArea:25,highlighting:true,highlightingFillStyle:"rgba(204, 204, 204, 0.5)",highlightingStrokeStyle:"rgba(204, 204, 204, 0.5)"},crosshairs:{enabled:false,snapToDataPoints:true,hLine:{visible:true,strokeStyle:"red"},vLine:{visible:true,strokeStyle:"red"}}};a.fn.jqChart.labelFormatter=function(b,c){return!b?String(c):a.fn.jqChart.sprintf(b,c)};function fb(a){this.elem=a;this._initElements()}fb.prototype={_initElements:function(){var b=this.elem,c=this;b.mouseenter(function(a){c._mouseEnter(a)});b.mouseleave(function(a){c._mouseLeave(a)});b.mousedown(function(a){c._mouseDown(a)});b.mousemove(function(a){c._mouseMove(a)});b.mouseup(function(a){c._mouseUp(a)});!b.hasClass("ui-jqchart")&&b.addClass("ui-jqchart");b.css("position")=="static"&&b.css("position","relative");this.canvas=this._createCanvas();this.tooltip=this._createTooltip();this.chartRenderer=new I(this.canvas,this);this.ctx=this.chartRenderer.ctx;if(a.fn.jqChart.use_excanvas){this.areaCanvas=this._createCanvas();this.areaRenderer=new I(this.areaCanvas,this);this.areaRenderer.isExcanvas=true}this.hlCanvas=this._createCanvas();this.hlRenderer=new I(this.hlCanvas,this);this.chCanvas=this._createCanvas();this.chRenderer=new I(this.chCanvas,this);this.gridArea=new M(this);this.border=new N;this.paletteColors=new cb;this.title=new U;this.title.chart=this;this.legend=new P;this.legend.chart=this;this.series=new t(this);this.axes=new o(this)},_unbind:function(){var a=this.elem;a.unbind("mouseenter");a.unbind("mouseleave");a.unbind("mousedown");a.unbind("mousemove");a.unbind("mouseup")},_init:function(g){var b=g||{};if(b.width)this.elem.css("width",b.width);else this.elem.width()==0&&this.elem.css("width","400px");if(b.height)this.elem.css("height",b.height);else this.elem.height()==0&&this.elem.css("height","250px");var d=this._width=this.elem.width(),c=this._height=this.elem.height();this.setOptions(g);var a=this.options;this.border.setOptions(a.border);this.border.fillStyle=a.background||this.border.fillStyle;this.gridArea.fillStyle=a.chartAreaBackground;this.paletteColors.setOptions(a.paletteColors);this.title.setOptions(a.title);this.legend.setOptions(a.legend);this.series.setOptions(a.series);this.axes.setOptions(a.axes);this._setCanvasSize(this.canvas,d,c);this._setCanvasSize(this.chCanvas,d,c);this._setCanvasSize(this.hlCanvas,d,c);this.areaCanvas&&this._setCanvasSize(this.areaCanvas,d,c);var e=this.options.scaleX,f=this.options.scaleY;if(e&&f){this._width/=e;this._height/=f;var h=this.canvas.getContext("2d");h.scale(e,f)}this.update()},_createCanvas:function(){var b=document.createElement("canvas");b.width=10;b.height=10;a(b).css({position:"absolute"});if(a.fn.jqChart.use_excanvas){window.G_vmlCanvasManager.init_(document);window.G_vmlCanvasManager.initElement(b)}this.elem.append(b);return b},_setCanvasSize:function(a,c,b){a.width=c;a.height=b},_createTooltip:function(){var b=a('<div class="ui-jqchart-tooltip" style="position:absolute;display:none"></div>');this.elem.append(b);return b},_addTrialWatermark:function(c){var b=window.location.host.indexOf("www.jquerychart.com");if(b!=-1)return;b=window.location.host.indexOf("www.jqchart.com");if(b!=-1)return;var a=new p("www.jqchart.com");a.chart=this;a.font="14px sans-serif";a.fillStyle="grey";a.measure(this.ctx);a.x=this._width-a.width-16;a.y=this._height-a.height;c.push(a)},_measure:function(){this.title._measure();this.legend._measure();return this.axes._measure()},_arrange:function(){var g=this._width,f=this._height;this.border.width=g;this.border.height=f;var c=this.border.getPadding();g-=2*c;f-=2*c;var d=c,e=c+this.title.height,m=this.axes._getTotalWidth(),l=this.axes._getTotalHeight();if(this.legend._isHorizontal()){this.gridArea.width=Math.round(g-m);this.gridArea.height=Math.round(f-(l+this.title.height+this.legend.height))}else{this.gridArea.width=Math.round(g-(m+this.legend.width));this.gridArea.height=Math.round(f-(l+this.title.height))}switch(this.legend.location){case"left":d+=this.legend.width;break;case"top":e+=this.legend.height}for(var i=this.axes._getAxesInLoc("left"),b=i.length-1;b>=0;b--){var a=i[b];a.x=d;a.height=this.gridArea.height;d=Math.ceil(d+a.width)}this.gridArea.x=d;d+=this.gridArea.width;for(var j=this.axes._getAxesInLoc("right"),b=0;b<j.length;b++){var a=j[b];a.x=d;a.height=this.gridArea.height;d=Math.ceil(d+a.width)}for(var n=this.axes._getAxesInLoc("top"),b=n.length-1;b>=0;b--){var a=n[b];a.x=this.gridArea.x;a.y=e;a.width=this.gridArea.width;e=Math.ceil(e+a.height)}this.gridArea.y=e;e+=this.gridArea.height;for(var h=this.axes._getAxesInLoc("bottom"),b=0;b<h.length;b++){var a=h[b];a.x=this.gridArea.x;a.y=e;a.width=this.gridArea.width;e=Math.ceil(e+a.height)}for(var k=i.concat(j),b=0;b<k.length;b++){var a=k[b];a.y=this.gridArea.y}for(var h=this.axes._getAxesInLoc("radial"),b=0;b<h.length;b++){var a=h[b];a.x=this.gridArea.x;a.y=this.gridArea.y;a.width=this.gridArea.width;a.height=this.gridArea.height}this.title.x=this.gridArea.x+(this.gridArea.width-this.title.width)/2;this.title.y=c;switch(this.legend.location){case"bottom":this.legend.x=this.gridArea.x+(this.gridArea.width-this.legend.width)/2;this.legend.y=c+f-this.legend.height;break;case"left":this.legend.x=c;this.legend.y=this.gridArea.y+(this.gridArea.height-this.legend.height)/2;break;case"top":this.legend.x=this.gridArea.x+(this.gridArea.width-this.legend.width)/2;this.legend.y=c+this.title.height;break;case"right":default:this.legend.x=c+g-this.legend.width;this.legend.y=this.gridArea.y+(this.gridArea.height-this.legend.height)/2}this.gridArea._arrange();this.axes._arrange();this.legend._arrange()},_mouseEnter:function(){this.isMouseOver=true},_mouseLeave:function(){this._clearRenderers();this.locOffset=null;this.isMouseOver=false},_mouseDown:function(){this._oldShape!=null&&this.elem.trigger("dataPointMouseDown",this._oldShape.context)},_mouseMove:function(a){var f=a.pageX,g=a.pageY;if(!this.locOffset)this.locOffset=this.elem.offset();var c=this.locOffset,d=f-c.left,e=g-c.top,h={x:f,y:g,locX:d,locY:e};this.mouseInput=h;if(this.gridArea){var b=this.gridArea._contains(d,e);if(this.gridArea.isMouseOver!=b){if(b)this._mouseEnterGridArea(a);else this._mouseLeaveGridArea(a);this.gridArea.isMouseOver=b}}if(this.gridArea.isMouseOver){this._processMouseEvents();this._processTooltips();this._initCrosshairs()}},_mouseUp:function(){this._oldShape!=null&&this.elem.trigger("dataPointMouseUp",this._oldShape.context)},_mouseEnterGridArea:function(){},_mouseLeaveGridArea:function(){this._clearRenderers()},_clearRenderers:function(){if(this._oldTShapes){this._oldTShapes=null;this.elem.trigger("dataHighlighting",null)}this._oldShape=null;this.hideTooltip();this.chRenderer&&this.chRenderer._clear();this.hlRenderer&&this.hlRenderer._clear()},_processMouseEvents:function(){var b=this.mouseInput,a=this.hitTest(b.locX,b.locY);if(this._oldShape!=null&&this._oldShape==a)this.elem.trigger("dataPointMouseMove",this._oldShape.context);else{this._oldShape!=null&&this.elem.trigger("dataPointMouseLeave",this._oldShape.context);a!=null&&this.elem.trigger("dataPointMouseEnter",a.context);this._oldShape=a}},_processTooltips:function(){var f=this.hasTooltips,l=this.hasHighlighting;if(!f&&!l)return;var d=this.mouseInput,m=this.options.tooltips.snapArea,b=this._getTooltipShapes(d.locX,d.locY,m),g=true;if(this._oldTShapes==null||!c.compareArrays(this._oldTShapes,b)){if(b!=null){this._initTooltip(b);this._highlightShapes(b)}this._oldTShapes=b}else g=false;if(b&&f&&g){var k=this.tooltip.outerWidth(true),j=this.tooltip.outerHeight(true),i=b[0]._getTooltipPosition(d,k,j,this._width,this._height),e=i.y,h=b.length;if(h>1){e=0;a.each(b,function(){e+=this._getTooltipPosition(d,k,j,this._width,this._height).y});e/=h}this.tooltip.stop();this.tooltip.animate({left:i.x,top:e},100)}},_initTooltip:function(b){if(!this.hasTooltips||!b||!b.length)return;var g=b.length,f="",d;if(g==1)d=b[0].context;else{d=[];a.each(b,function(){d.push(this.context)})}var e=new jQuery.Event("tooltipFormat");this.elem.trigger(e,[d]);if(e.result)f=e.result;else a.each(b,function(){f+=this.context.series._getTooltip(this.context)});this.tooltip.html(f);var c=this.options.tooltips;if(g==1)if(c.borderColor){c.borderColor=="auto"&&this.tooltip.css("border-color",b[0].getTooltipColor());this.tooltip.css("border-color",c.borderColor)}c.background&&this.tooltip.css("background",c.background);this.showTooltip()},_highlightShapes:function(c){if(!this.hasHighlighting)return;this.hlRenderer._clear();var e=this.options.tooltips,d=[];a.each(c,function(c,b){var a=b._createHighlightShape(e.highlightingFillStyle,e.highlightingStrokeStyle);d.push(a)});this.hlRenderer._render(d);var b;if(c.length==1)b=c[0].context;else{b=[];a.each(c,function(){b.push(this.context)})}this.elem.trigger("dataHighlighting",[b])},_initCrosshairs:function(){if(!this.hasCrosshairs)return;if(!this.gridArea.isMouseOver)return;var f=this.options.crosshairs,b=this.mouseInput,d=b.locX,e=b.locY;if(f.snapToDataPoints){var a=this._getClosestShapeAtX(this.shapes);if(a){var g=this._getShapesAtX(a.getCenter().x,this.shapes);a=this._getClosestShapeAtY(g);if(a){var c=a.getCenter();d=c.x;e=c.y}}}this._renderCrosshairs(d,e)},_renderCrosshairs:function(g,h){if(!this.hasCrosshairs)return;var c=this.gridArea,b=this.options.crosshairs,d=[];if(b.hLine&&b.hLine.visible){var e=new k(c.x,h,c.x+c.width,h);b.hLine&&a.extend(e,b.hLine);d.push(e)}if(b.vLine&&b.vLine.visible){var f=new k(g,c.y,g,c.y+c.height);b.vLine&&a.extend(f,b.vLine);d.push(f)}this.chRenderer._clear();this.chRenderer._render(d)},_getClosestShapeAtX:function(c){for(var b=null,f=i,h=this.mouseInput.locX,a=c.length-1;a>=0;a--){var d=c[a],g=d.getCenter().x,e=Math.abs(g-h);if(f>e){f=e;b=d}}return b},_getClosestShapeAtY:function(c){for(var b=null,f=i,h=this.mouseInput.locY,a=c.length-1;a>=0;a--){var d=c[a],g=d.getCenter().y,e=Math.abs(g-h);if(f>e){f=e;b=d}}return b},_getShapesAtX:function(d,c){var b=[];a.each(c,function(){var a=this.getCenter().x;a&&Math.abs(d-a)<3&&b.push(this)});return b},_getClosestShape:function(a,g){for(var f=this.mouseInput,b=a[a.length-1],c=a.length-2;c>=0;c--){var e=a[c];if(d.compare(b,e,f,g)==false)b=e}return b},_getTooltipShapes:function(i,j,a){var h=this.options.tooltips;if(h.type=="shared"){var d=this._getClosestShapeAtX(this.shapes);return d?this._getShapesAtX(d.getCenter().x,this.shapes):null}if(!a)a=0;for(var e=[],f=this.mouseInput,c=this.shapes.length-1;c>=0;c--){var b=this.shapes[c];if(!b.context)continue;b.hitTest(f.locX,f.locY,a)&&e.push(b)}var g=this._getClosestShape(e,a);return!g?null:[g]},hitTest:function(e,f,b){if(!b)b=0;for(var d=this.mouseInput,c=this.shapes.length-1;c>=0;c--){var a=this.shapes[c];if(!a.context)continue;if(a.hitTest(d.locX,d.locY,b))return a}},showTooltip:function(){this.tooltip.show()},hideTooltip:function(){this.tooltip.hide()},stringFormat:function(b,c){return a.type(b)=="date"?a.fn.jqChart.dateFormat(b,c):a.fn.jqChart.sprintf(c,b)},setOptions:function(c){var b=c||{};if(typeof b.title=="string")b.title={text:b.title};b.title=b.title||{};b.title=a.extend({},a.fn.jqChart.defaults.title,b.title);b.crosshairs=a.extend(true,{},a.fn.jqChart.defaults.crosshairs,b.crosshairs);b.tooltips=a.extend(true,{},a.fn.jqChart.defaults.tooltips,b.tooltips);this.hasCrosshairs=b.crosshairs.enabled===true;this.hasTooltips=b.tooltips&&!b.tooltips.disabled;this.hasHighlighting=b.tooltips&&b.tooltips.highlighting;this.options=b},findAxis:function(a){if(this.axes)return this.axes.find(a)},clear:function(){this._clearRenderers();this.chartRenderer._clear();a.fn.jqChart.use_excanvas&&this.areaRenderer._clear()},render:function(){this.clear();var b=[];this.border._render(b);this.title._render(b);this.legend._render(b);this.gridArea._render(b);var f=this.axes._render(b);this._addTrialWatermark(b);var e=[];this.series._render(e);this.chartRenderer._render(b);this.chartRenderer._render(e);this.chartRenderer._render(f);var c=[];this.gridArea._renderSeries(c);if(a.fn.jqChart.use_excanvas)this.areaRenderer._render(c);else{var d=this.gridArea;this.ctx.save();this.ctx.beginPath();this.ctx.rect(d.x,d.y,d.width,d.height);this.ctx.clip();this.chartRenderer._render(c);this.ctx.restore()}a.merge(c,e);this.shapes=c},update:function(){this.series._initData();this.axes._initSeriesAxes();this.axes._initSeries();this.series._initColors();this.legend._init();for(var a=false,b=0;b<10;b++){a=this._measure();this._arrange();this.axes._updateOrigins();this.axes._initRanges();this.axes._correctOrigins();if(a==false)break}this.render()},toDataURL:function(b){return a.fn.jqChart.use_excanvas?null:this.canvas.toDataURL(b)},getShapesPerData:function(d){var b=[],c=this.shapes;a.each(d,function(){var d=this;a.each(c,function(){if(this.context)this.context.dataItem==d&&b.push(this)})});return b},highlightData:function(b){if(!b){this._clearRenderers();return}var a=this.getShapesPerData(b);if(a.length==0)return;var d=this.gridArea,c=a[0].getCenter();this._renderCrosshairs(c.x,c.y);this._highlightShapes(a);this._initTooltip(a)}};a.fn.jqChart.sprintf=function(){function e(a,c,e,d){var b=a.length>=c?"":Array(1+c-a.length>>>0).join(e);return d?a+b:b+a}function d(a,d,b,c,g){var f=c-a.length;if(f>0)if(b||!g)a=e(a,c," ",b);else a=a.slice(0,d.length)+e("",f,"0",true)+a.slice(d.length);return a}function c(b,f,a,g,i,h,j){var c=b>>>0;a=a&&c&&({"2":"0b","8":"0","16":"0x"})[f]||"";b=a+e(c.toString(f),h||0,"0",false);return d(b,a,g,i,j)}function g(a,c,e,b,f){if(b!=null)a=a.slice(0,b);return d(a,"",c,e,f)}var b=arguments,f=0,h=b[f++];return h.replace(a.fn.jqChart.sprintf.regex,function(t,s,q,a,w,h,m){if(t=="%%")return"%";for(var j=false,n="",k=false,l=false,r=0;q&&r<q.length;r++)switch(q.charAt(r)){case" ":n=" ";break;case"+":n="+";break;case"-":j=true;break;case"0":k=true;break;case"#":l=true}if(!a)a=0;else if(a=="*")a=+b[f++];else if(a.charAt(0)=="*")a=+b[a.slice(1,-1)];else a=+a;if(a<0){a=-a;j=true}if(!isFinite(a))throw new Error("sprintf: (minimum-)width must be finite");if(!h)h="fFeE".indexOf(m)>-1?6:m=="d"?0:void 0;else if(h=="*")h=+b[f++];else if(h.charAt(0)=="*")h=+b[h.slice(1,-1)];else h=+h;var i=s?b[s.slice(0,-1)]:b[f++];switch(m){case"s":return g(String(i),j,a,h,k);case"c":return g(String.fromCharCode(+i),j,a,h,k);case"b":return c(i,2,l,j,a,h,k);case"o":return c(i,8,l,j,a,h,k);case"x":return c(i,16,l,j,a,h,k);case"X":return c(i,16,l,j,a,h,k).toUpperCase();case"u":return c(i,10,l,j,a,h,k);case"i":case"d":var o=parseInt(+i),p=o<0?"-":n;i=p+e(String(Math.abs(o)),h,"0",false);return d(i,p,j,a,k);case"e":case"E":case"f":case"F":case"g":case"G":var o=+i,p=o<0?"-":n,v=(["toExponential","toFixed","toPrecision"])["efg".indexOf(m.toLowerCase())],u=(["toString","toUpperCase"])["eEfFgG".indexOf(m)%2];i=p+Math.abs(o)[v](h);return d(i,p,j,a,k)[u]();default:return t}})};a.fn.jqChart.sprintf.regex=/%%|%(\d+\$)?([-+#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g;a.fn.jqChart.dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,b=function(a,b){a=String(a);b=b||2;while(a.length<b)a="0"+a;return a};return function(f,g,l){var j=a.fn.jqChart.dateFormat;if(arguments.length==1&&Object.prototype.toString.call(f)=="[object String]"&&!/\d/.test(f)){g=f;f=undefined}f=f?new Date(f):new Date;if(isNaN(f))throw SyntaxError("invalid date");g=String(j.masks[g]||g||j.masks["default"]);if(g.slice(0,4)=="UTC:"){g=g.slice(4);l=true}var i=l?"getUTC":"get",k=f[i+"Date"](),q=f[i+"Day"](),n=f[i+"Month"](),t=f[i+"FullYear"](),h=f[i+"Hours"](),r=f[i+"Minutes"](),s=f[i+"Seconds"](),m=f[i+"Milliseconds"](),o=l?0:f.getTimezoneOffset(),p={d:k,dd:b(k),ddd:j.i18n.dayNames[q],dddd:j.i18n.dayNames[q+7],m:n+1,mm:b(n+1),mmm:j.i18n.monthNames[n],mmmm:j.i18n.monthNames[n+12],yy:String(t).slice(2),yyyy:t,h:h%12||12,hh:b(h%12||12),H:h,HH:b(h),M:r,MM:b(r),s:s,ss:b(s),l:b(m,3),L:b(m>99?Math.round(m/10):m),t:h<12?"a":"p",tt:h<12?"am":"pm",T:h<12?"A":"P",TT:h<12?"AM":"PM",Z:l?"UTC":(String(f).match(d)||[""]).pop().replace(c,""),o:(o>0?"-":"+")+b(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4),S:(["th","st","nd","rd"])[k%10>3?0:(k%100-k%10!=10)*k%10]};return g.replace(e,function(a){return a in p?p[a]:a.slice(1,a.length-1)})}}();a.fn.jqChart.dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};a.fn.jqChart.dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var j=-Number.MAX_VALUE,i=Number.MAX_VALUE;function c(){}c.roundH=function(a){return Math.round(a)-.5};c.round=function(a){var b=1/a;if(Math.abs(b)>1e4){var d=c.log10(Math.abs(b));if(d>13)return a}var e=a.toPrecision(14),f=parseFloat(e);return f};c.log10=function(a){return Math.log(a)/Math.LN10};c.log=function(b,a){return Math.log(b)/Math.log(a)};c.radians=function(a){return a*(Math.PI/180)};c.fitInRange=function(a,c,b){if(a<c)a=c;else if(a>b)a=b;return a};c.sum=function(b){for(var c=0,a=0;a<b.length;a++)c+=b[a];return c};c.compareArrays=function(a,b){if(!a&&!b)return true;if(!a||!b)return false;if(a.length!=b.length)return false;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return false;return true};c.rotatePointAt=function(j,k,c,a,b){var e=Math.sin(c),d=Math.cos(c),f=j-a,g=k-b,h=a+f*d-g*e,i=b+f*e+g*d;return{x:h,y:i}};c.rotatePointsAt=function(d,h,f,g){for(var b=[],a=0;a<d.length;a+=2){var e=c.rotatePointAt(d[a],d[a+1],h,f,g);b.push(e.x);b.push(e.y)}return b};c.getCurveControlPoints=function(b){for(var f=[],e=[],c=b.length/2-1,d=[],a=1;a<c-1;++a)d[a]=4*b[2*a]+2*b[2*a+2];d[0]=b[0]+2*b[2];d[c-1]=(8*b[2*c-2]+b[2*c])/2;for(var g=eb(d),a=1;a<c-1;++a)d[a]=4*b[2*a+1]+2*b[2*a+3];d[0]=b[1]+2*b[3];d[c-1]=(8*b[2*c-1]+b[2*c+1])/2;for(var h=eb(d),a=0;a<c;++a){f[2*a]=g[a];f[2*a+1]=h[a];if(a<c-1){e[2*a]=2*b[2*a+2]-g[a+1];e[2*a+1]=2*b[2*a+3]-h[a+1]}else{e[2*a]=(b[2*c]+g[c-1])/2;e[2*a+1]=(b[2*c+1]+h[c-1])/2}}return{first:f,second:e}};function eb(e){var b=e.length,c=[],f=[],d=2;c[0]=e[0]/d;for(var a=1;a<b;a++){f[a]=1/d;d=(a<b-1?4:3.5)-f[a];c[a]=(e[a]-c[a-1])/d}for(var a=1;a<b;a++)c[b-a-1]-=f[b-a]*c[b-a];return c}function e(){}e.ticksInDay=24*60*60*1e3;e.getDaysInMonth=function(b,a){return a==1?(new Date(b,1,29)).getDate()==29?29:28:([31,undefined,31,30,31,30,31,31,30,31,30,31])[a]};e.addDays=function(b,c){var a=new Date(b.getTime());a.setDate(b.getDate()+c);return a};e.addYears=function(b,c){var a=new Date(b.getTime());a.setFullYear(b.getFullYear()+c);return a};e.addMonths=function(c,b){var a=new Date(c.getTime()),d=a.getDate();a.setDate(1);a.setMonth(a.getMonth()+b);a.setDate(Math.min(d,e.getDaysInMonth(a.getFullYear(),a.getMonth())));return a};e.getDayOfWeek=function(b){var a=b.getDay();return a===0?7:a};e.fromDays=function(a){return a*e.ticksInDay};e.fromHours=function(a){return a*60*60*1e3};e.fromMinutes=function(a){return a*60*1e3};e.fromSeconds=function(a){return a*1e3};e.roundToDay=function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())};function d(){this.fillStyle="black";this.strokeStyle="black";this.lineWidth=1;this.lineCap="butt";this.lineJoin="miter";this.miterLimit=10}d.compare=function(e,b,a,j){if(e.useHitTestArea&&!b.useHitTestArea)return true;if(!e.useHitTestArea&&b.useHitTestArea)return!b.hitTest(a.locX,a.locY,j/3);if(!e.useHitTestArea&&!b.useHitTestArea)return true;var f=e.getCenter(a),g=b.getCenter(a),c=a.locX-f.x,d=a.locY-f.y,h=Math.sqrt(c*c+d*d);c=a.locX-g.x;d=a.locY-g.y;var i=Math.sqrt(c*c+d*d);return h<=i};d.getColorFromFillStyle=function(a){if(a==null)return"#dddddd";if(typeof a=="string")return a;if(a.colorStops&&a.colorStops[0]){var b=a.colorStops[0].color;return b!="white"&&b!="#ffffff"?b:a.colorStops[1].color}return"#dddddd"};d.prototype.hitTest=function(){return false};d.prototype.boundsHitTest=function(b,c,a){if(!this.useHitTestArea)a=0;return b>=this.x-a&&b<=this.x+this.width+a&&c>=this.y-a&&c<=this.y+this.height+a};d.prototype.render=function(a){this.setProperties(a)};d.prototype.setProperties=function(a){a.fillStyle=this._createGradient(a,this.fillStyle)||"#000000";a.strokeStyle=this.strokeStyle||"#000000";a.lineWidth=this.lineWidth||0;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit};d.prototype.calculateBounds=function(a){if(a==null)return;for(var b=i,c=i,e=j,f=j,d=0;d<a.length;d+=2){var g=a[d],h=a[d+1];b=Math.min(b,g);c=Math.min(c,h);e=Math.max(e,g);f=Math.max(f,h)}this.x=b;this.y=c;this.width=e-b;this.height=f-c;this.center=this.getCenter()};d.prototype.getCenter=function(){return this.center?this.center:{x:this.x+this.width/2,y:this.y+this.height/2}};d.prototype.getTooltipColor=function(){return d.getColorFromFillStyle(this.fillStyle)};d.prototype._createGradient=function(f,a){if(a==null||typeof a=="string"||this.width==null||this.height==null||this.x==null||this.y==null)return a;var b;switch(a.type){case"radialGradient":var i=this.x+a.x0*this.width,k=this.y+a.y0*this.height,g=a.r0*this.width/2,j=this.x+a.x1*this.width,l=this.y+a.y1*this.height,h=a.r1*this.width/2;b=f.createRadialGradient(i,k,g,j,l,h);break;default:var o=this.x+a.x0*this.width,p=this.y+a.y0*this.height,n=this.x+a.x1*this.width,m=this.y+a.y1*this.height;b=f.createLinearGradient(o,p,n,m)}var c=a.colorStops;if(c!=null)for(var d=0;d<c.length;d++){var e=c[d];b.addColorStop(e.offset,e.color)}return b};d.prototype._createHighlightShape=function(c){var b=new d;a.extend(b,this);b.fillStyle=c;return b};d.prototype._getTooltipPosition=function(d,f,e,c,b){var a=this._getTooltipOrigin(d);return this._getTooltipPositionFromOrigin(a.x,a.y,f,e,c,b)};d.prototype._getTooltipOrigin=function(){return this.tooltipOrigin?this.tooltipOrigin:{x:this.x+this.width/2,y:this.y}};d.prototype._getTooltipPositionFromOrigin=function(d,e,g,f){var a=15,b=d-g-a,c=e-f+10;if(b<0)b=Math.max(0,d+a);if(c<0)c=Math.max(0,e-a);return{x:b,y:c}};function k(a,c,b,e){d.call(this);this.x1=a;this.y1=c;this.x2=b;this.y2=e;this.useHitTestArea=true}k.prototype=new d;k.constructor=new k;k.prototype.hitTest=function(f,g,j){var b=this.x1,d=this.y1,c=this.x2,e=this.y2,a=Math.max(j,Math.max(3,this.lineWidth/2));if(b==c){var h=f+1;return h>b-a&&h<c+a&&g>=d-a&&g<=e+a?true:false}if(d==e){var i=g+.5;return f>=b-a&&f<=c+a&&i>d-a&&i<e+a?true:false}return false};k.prototype.hitTestNonHV=function(k,l,j){var a=this.x1,b=this.y1,c=this.x2,d=this.y2;if(a<c){this.x=a;this.width=c-a}else{this.x=c;this.width=a-c}if(b<d){this.y=b;this.width=d-b}else{this.y=d;this.width=b-d}if(this.boundsHitTest(k,l,j)==false)return false;var g=c-a,h=d-b,e,f,i;if(g==0){e=1;f=0;i=-a}else if(h==0){e=0;f=-1;i=-b}else if(Math.abs(g)<Math.abs(h)){e=1;f=g/h;i=-((a*d-b*c)/h)}else{e=-(h/g);f=-1;i=-((b*c-a*d)/g)}var n=Math.sqrt(e*e+f*f),m=(e*k-f*l+i)/n,o=Math.max(j,3);return Math.abs(m)<o?true:false};k.prototype.render=function(a){d.prototype.render.call(this,a);a.beginPath();var b=c.roundH(this.x1),f=c.roundH(this.y1),e=c.roundH(this.x2),g=c.roundH(this.y2);a.moveTo(b,f);a.lineTo(e,g);this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function m(c,e,b,a){d.call(this);this.x=c;this.y=e;this.width=b;this.height=a;this.cornerRadius=0}m.prototype=new d;m.constructor=new m;m.prototype.hitTest=function(b,c,a){return this.boundsHitTest(b,c,a)};m.prototype.render=function(a){d.prototype.render.call(this,a);var f=c.roundH(this.x),g=c.roundH(this.y),e=Math.round(this.width),b=Math.round(this.height);if(e<=0||b<=0)return;if(this.cornerRadius==0)this.renderRectPath(a,f,g,e,b);else this.renderRoundedRectPath(a,f,g,e,b);this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};m.prototype.renderRectPath=function(a,b,c,e,d){a.beginPath();a.moveTo(b,c);a.lineTo(b+e,c);a.lineTo(b+e,c+d);a.lineTo(b,c+d);a.closePath()};m.prototype.renderRoundedRectPath=function(b,c,d,g,f){var a=this.cornerRadius,e=Math.PI/2;b.beginPath();b.moveTo(c+a,d);b.lineTo(c+g-a,d);b.arc(c+g-a,d+a,a,-e,0,false);b.lineTo(c+g,d+f-a);b.arc(c+g-a,d+f-a,a,0,e,false);b.lineTo(c+a,d+f);b.arc(c+a,d+f-a,a,e,2*e,false);b.lineTo(c,d+a);b.arc(c+a,d+a,a,2*e,-e,false);b.closePath()};function bb(c,e,b,a){d.call(this);this.x=c;this.y=e;this.width=b;this.height=a}bb.prototype=new d;bb.constructor=new bb;bb.prototype.hitTest=function(f,g,a){if(this.boundsHitTest(f,g,a)==false)return false;var c=(this.width+a)/2,b=(this.height+a)/2,h=this.x+c,i=this.y+b,d=f-h,e=g-i,j=d*d/(c*c),k=e*e/(b*b);return j+k<=1};bb.prototype.render=function(a){d.prototype.render.call(this,a);var c=this.x,f=this.y,l=this.width,k=this.height,g=this.width/2*.5522848,h=this.height/2*.5522848,i=c+l,j=f+k,e=c+l/2,b=f+k/2;a.beginPath();a.moveTo(c,b);a.bezierCurveTo(c,b-h,e-g,f,e,f);a.bezierCurveTo(e+g,f,i,b-h,i,b);a.bezierCurveTo(i,b+h,e+g,j,e,j);a.bezierCurveTo(e-g,j,c,b+h,c,b);a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function O(b,c,a){d.call(this);this.x=b;this.y=c;this.radius=a;this.width=this.height=2*a}O.prototype=new d;O.constructor=new O;O.prototype.hitTest=function(e,f,a){var c=this.x+this.width/2,d=this.y+this.height/2,b=Math.pow(e-c,2)+Math.pow(f-d,2);return b>Math.pow(this.radius+a,2)?false:true};O.prototype.render=function(a){d.prototype.render.call(this,a);a.beginPath();var b=this.radius;a.arc(Math.round(this.x+b),Math.round(this.y+b),Math.round(b),0,Math.PI*2,false);a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function T(f,g,a,b,c){d.call(this);this.x=f;this.y=g;this.radius=a;this.startAngle=b;this.endAngle=c;this.width=this.height=2*a;var e=(b+c)/2,h=f+a*Math.cos(e),i=g+a*Math.sin(e);this.center=this.tooltipOrigin={x:h,y:i}}T.prototype=new d;T.constructor=new T;T.prototype.hitTest=function(d,e){var b=this.x,c=this.y,f=Math.pow(d-b,2)+Math.pow(e-c,2);if(f>Math.pow(this.radius,2))return false;var g=b-d,h=c-e,a=Math.atan2(h,g)+Math.PI;if(a>3*Math.PI/2)a-=2*Math.PI;return a>=this.startAngle&&a<this.endAngle?true:false};T.prototype.render=function(a){d.prototype.render.call(this,a);a.beginPath();var b=Math.round(this.x),c=Math.round(this.y);a.moveTo(b,c);a.arc(b,c,Math.round(this.radius),this.startAngle,this.endAngle,false);a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function C(b,a){d.call(this);this.pts=b;if(a){this.isBoundsHitTest=a;this.calculateBounds(b)}}C.prototype=new d;C.constructor=new C;C.prototype.render=function(a){d.prototype.render.call(this,a);var h=this.pts,g=h.length;if(g<4)return;for(var f=false,c=0;c<g;c+=2){var b=h[c];if(b==null){a.stroke();f=false;continue}var e=h[c+1];if(g<100){b=Math.round(b);e=Math.round(e)}if(!f){a.beginPath();a.moveTo(b,e);f=true;continue}a.lineTo(b,e);if(c%1e3==0){a.stroke();a.beginPath();a.moveTo(b,e)}}this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};C.prototype.hitTest=function(b,c,a){return this.boundsHitTest(b,c,a)};function A(a,b){d.call(this);if(!a)return;this.closed=b;this.pts=a;if(b){var e=a.length;if(e>4){this.pts.push(a[0]);this.pts.push(a[1])}}this.controlPoints=c.getCurveControlPoints(a)}A.prototype=new d;A.constructor=new A;A.prototype.getCurveBounds=function(){for(var d=i,b=j,e=i,c=j,l=[this.pts,this.controlPoints.first,this.controlPoints.second],g=0;g<3;g++)for(var f=l[g],a=0;a<f.length;a+=2){var h=f[a],k=f[a+1];d=Math.min(d,h);b=Math.max(b,h);e=Math.min(e,k);c=Math.max(c,k)}return{minx:d,maxX:b,minY:e,maxY:c}};A.prototype.renderCurve=function(c){var b=this.pts,d=b.length;c.moveTo(b[0],b[1]);if(d==4)c.lineTo(b[2],b[3]);else for(var a=2;a<d;a+=2){var i=b[a],j=b[a+1],e=this.controlPoints.first[a-2],f=this.controlPoints.first[a-1],g=this.controlPoints.second[a-2],h=this.controlPoints.second[a-1];c.bezierCurveTo(e,f,g,h,i,j)}};A.prototype.render=function(a){d.prototype.render.call(this,a);var b=this.pts.length;if(b<4)return;a.beginPath();this.renderCurve(a);if(this.closed){a.closePath();this.fillStyle!=null&&a.fill()}this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function Z(a){d.call(this);this.pts=a;this.calculateBounds(a)}Z.prototype=new d;Z.constructor=new Z;Z.prototype.render=function(a){d.prototype.render.call(this,a);var c=this.pts,b=c.length;if(b<6)return;var f=c.slice(0,b-4);a.beginPath();var g=new A(f);g.renderCurve(a);for(var e=b-4;e<b;e+=2)a.lineTo(Math.round(c[e]),Math.round(c[e+1]));a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function z(a){d.call(this);this.pts=a;this.calculateBounds(a)}z.prototype=new d;z.constructor=new z;z.prototype.hitTest=function(l,a,j){var m=this.boundsHitTest(l,a,j);if(m==false)return false;if(this.isBoundsHitTest&&j)return true;for(var b=this.pts,g=false,i=b.length,h,c,k,e,d=0,f=0;f<i;f+=2){d+=2;if(d==i)d=0;h=b[f];c=b[f+1];k=b[d];e=b[d+1];if(c<a&&e>=a||e<a&&c>=a)if(h+(a-c)/(e-c)*(k-h)<l)g=!g}return g};z.prototype.render=function(a){d.prototype.render.call(this,a);var b=this.pts,e=b.length;if(e<4)return;a.beginPath();a.moveTo(Math.round(b[0]),Math.round(b[1]));for(var c=2;c<e;c+=2)a.lineTo(Math.round(b[c]),Math.round(b[c+1]));a.closePath();this.fillStyle!=null&&a.fill();this.strokeStyle!=null&&this.lineWidth>0&&a.stroke()};function p(a,b,c){this.text=a;this.x=b;this.y=c;this.strokeStyle=null;this.textBaseline="middle";this.font="10px sans-serif";this.textAlign="left"}p.prototype=new d;p.constructor=p;p.prototype.render=function(a){d.prototype.render.call(this,a);var b=c.roundH(this.x),e=c.roundH(this.y);if(this.rotationAngle&&this.rotX&&this.rotY){a.save();a.translate(this.rotX,this.rotY);a.rotate(this.rotationAngle);this.flip&&a.scale(-1,-1);this.fillStyle!=null&&a.fillText(this.text,0,0);this.strokeStyle!=null&&a.strokeText(this.text,0,0);a.restore()}else{this.fillStyle!=null&&a.fillText(this.text,b,e);this.strokeStyle!=null&&a.strokeText(this.text,b,e)}};p.prototype.measure=function(a){this.setProperties(a);var d=a.measureText(this.text),b=parseFloat(this.font)||0,c=d.width;this.width=c;this.height=b;return{width:c,height:b}};p.prototype.setProperties=function(a){d.prototype.setProperties.call(this,a);a.font=this.font;a.textAlign=this.textAlign;a.textBaseline=this.textBaseline};function K(b,c,a){this.x=b;this.y=c;this.src=a}K.prototype=new d;K.constructor=K;K.prototype.hitTest=function(b,c,a){return this.boundsHitTest(b,c,a)};K.prototype.render=function(e){var b=new Image,c=this.x,d=this.y,a=this;b.onload=function(){var g=b.width,f=b.height;c-=g/2;d-=f/2;a.x=c;a.y=d;if(a.offsetX)c+=a.offsetX;if(a.offsetY)d+=a.offsetY;a.width=g;a.height=f;e.drawImage(b,c,d)};b.src=this.src};K.prototype._createHighlightShape=function(b){var a=new m;a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;a.fillStyle=b;a.strokeStyle="grey";return a};function y(c,a,b,g,e,f){d.call(this);this.x=c-f/2;this.width=f;this.height=Math.abs(a-b);this.y=Math.min(a,b);this.isUp=e<g;this.tooltipOrigin={x:c,y:Math.min(a,b)};this.center={x:c,y:(g+e)/2};this.createElements&&this.createElements(c,a,b,g,e,f)}y.prototype=new d;y.constructor=new y;y.prototype.createElements=function(a,h,i,e,d,g){var c=[],f=g/2,b=new k(a,h,a,i);c.push(b);b=new k(a-f,e,a,e);c.push(b);b=new k(a,d,a+f,d);c.push(b);this.items=c};y.prototype.hitTest=function(c,d,a){if(a)return this.boundsHitTest(c,d,a);for(var b=0;b<this.items.length;b++){var e=this.items[b];if(e.hitTest(c,d,a))return true}return false};y.prototype.render=function(c){d.prototype.render.call(this,c);for(var a=0;a<this.items.length;a++){var b=this.items[a];this.setProperties(b);b.render(c)}};y.prototype._createHighlightShape=function(c,d){var b=new y;a.extend(b,this);b.fillStyle=c;b.priceUpFillStyle=c;b.priceDownFillStyle=c;b.strokeStyle=d;b.lineWidth+=2;return b};function G(f,c,e,d,a,b){y.call(this,f,c,e,d,a,b)}G.prototype=new y;G.constructor=new G;G.prototype.createElements=function(b,j,n,l,h,i){var d=[],e=Math.floor(i/2),b=Math.round(b),a=Math.round(l),c=Math.round(h);if(a>c){var o=c;c=a;a=o}if(c-a>=1){var g=new m(b-e,a,2*e,c-a);g.useHitTestArea=true;d.push(g)}else{var f=new k(b-e,a,b+e,a);d.push(f)}var f=new k(b,j,b,a);d.push(f);var f=new k(b,c,b,n);d.push(f);this.items=d};G.prototype.render=function(c){d.prototype.render.call(this,c);for(var b=0;b<this.items.length;b++){var a=this.items[b];this.setProperties(a);if(a instanceof m)if(this.isUp)a.fillStyle=this.priceUpFillStyle;else a.fillStyle=this.priceDownFillStyle;a.render(c)}};G.prototype.getTooltipColor=function(){return this.isUp?d.getColorFromFillStyle(this.priceUpFillStyle):d.getColorFromFillStyle(this.priceDownFillStyle)};function ab(a){this.defaults={strokeStyle:"gray",lineWidth:1,visible:true};this.setOptions(a)}ab.prototype._setLineSettings=function(a){a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth};ab.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};function db(a){this.defaults={strokeStyle:"black",lineWidth:1,length:6,visible:true};this.setOptions(a)}db.prototype._setLineSettings=function(a){a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth};db.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};function I(a,b){if(this.canvas==null){this.canvas=a;this.ctx=this._getContext(this.canvas)}this.chart=b}I.prototype._getContext=function(a){return a.getContext?a.getContext("2d"):null};I.prototype._render=function(e){var d=this.offsetX&&this.offsetY,b=this.ctx;if(d){b.save();b.translate(this.offsetX,this.offsetY)}for(var c=0;c<e.length;c++){var a=e[c];if(a){a.context&&this.chart.elem.trigger("shapeRendering",a);if(a.src&&this.isExcanvas){a.offsetX=this.offsetX;a.offsetY=this.offsetY;b.translate(-this.offsetX,-this.offsetY);a.render(b);b.translate(this.offsetX,this.offsetY)}else a.render(b)}}d&&b.restore()};I.prototype._clear=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)};function cb(a){this.colorsDefault=["#418CF0","#FCB441","#E0400A","#056492","#BFBFBF","#1A3B69","#FFE382","#129CDD","#CA6B4B","#005CDB","#F3D288","#506381","#F1B9A8","#E0830A","#7893BE"];this.colorsGrayScale=hb();this.defaults={type:"default"};this.setOptions(a)}cb.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};function hb(){for(var e=16,c=[],b=0;b<e;b++){var a=200-b*11;a=a.toString();var d="rgb("+a+","+a+","+a+")";c.push(d)}return c}cb.prototype.getColor=function(b){var a=this.getColors(this.type),c=a.length;b%=c;return a[b]};cb.prototype.getColors=function(a){switch(a.toLowerCase()){case"customcolors":return this.customColors;case"grayscale":return this.colorsGrayScale;case"default":default:return this.colorsDefault}};function U(a){this.defaults={font:"14px sans-serif",fillStyle:"black",lineWidth:0,margin:6};this.x=0;this.y=0;this.setOptions(a)}U.prototype._render=function(a){if(this.text==null)return;this.textBlock.x=this.x+this.margin;this.textBlock.y=this.y+this.margin;this.textBlock.rotX=this.rotX;this.textBlock.rotY=this.rotY;this.textBlock.rotationAngle=this.rotationAngle;a.push(this.textBlock)};U.prototype._measure=function(){var a;if(!this.text){this.width=0;this.height=0;return}a=this.textBlock.measure(this.chart.ctx);var b=2*this.margin;this.width=a.width+b;this.height=a.height+b};U.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b);this.textBlock=new p(this.text);this.textBlock.textBaseline="top";this.textBlock.font=this.font;this.textBlock.fillStyle=this.fillStyle;this.textBlock.strokeStyle=this.strokeStyle;this.textBlock.lineWidth=this.lineWidth};function N(a){this.defaults={strokeStyle:"black",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,cornerRadius:10,padding:4};this.x=0;this.y=0;this.setOptions(a)}N.prototype._setShapeSettings=function(a){a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit;a.cornerRadius=this.cornerRadius};N.prototype._render=function(c){var a=this.lineWidth/2,f=this.x+a,g=this.y+a,e=this.width-2*a,d=this.height-2*a,b=new m(f,g,e,d);this._setShapeSettings(b);c.push(b)};N.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};N.prototype.getPadding=function(){return this.lineWidth+this.cornerRadius/2+this.padding};function B(a){this.defaults={lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,size:8,offset:0,linkLineWidth:1,type:"circle"};this.setOptions(a)}B.prototype._setShapeSettings=function(a){a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit};B.prototype._setLineSettings=function(a){a.lineWidth=this.linkLineWidth;a.strokeStyle=this.linkLineStrokeStyle};B.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b)};B.prototype.getSize=function(){return{width:this.size,height:this.size}};B.prototype.getShape=function(c,d,b,f){if(this.visible===false)return null;var g=2*b,e=null;switch(this.type){case"circle":e=new O(c-b,d-b,b);break;case"rectangle":e=new m(c-b,d-b,g,g);break;case"diamond":var a=[];a.push(c);a.push(d-b);a.push(c+b);a.push(d);a.push(c);a.push(d+b);a.push(c-b);a.push(d);e=new z(a);e.isBoundsHitTest=true;break;case"triangle":var a=[];a.push(c);a.push(d-b);a.push(c+b);a.push(d+b);a.push(c-b);a.push(d+b);e=new z(a);e.isBoundsHitTest=true;break;case"line":e=new k(c-b,d,c+b,d);break;case"plus":var a=[];a.push(c-b);a.push(d);a.push(c+b);a.push(d);a.push(null);a.push(null);a.push(c);a.push(d-b);a.push(c);a.push(d+b);e=new C(a,true);break;case"image":if(!f)return null;e=new K(c,d,f)}e.useHitTestArea=true;e.center={x:Math.round(c),y:Math.round(d)};return e};B.prototype.isVisible=function(){return this.visible!==false&&this.type!="none"};function P(a){this.defaults={location:"right",title:{margin:0},border:{padding:2,strokeStyle:"grey",cornerRadius:6},margin:4,visible:true};this._itemMargin=4;this.setOptions(a)}P.prototype._isHorizontal=function(){return this.location=="top"||this.location=="bottom"?true:false};P.prototype._init=function(){this.items=[];if(this.visible==false)return;if(this.customItems)for(var d=0;d<this.customItems.length;d++){var b=this.customItems[d];if(b!=null&&typeof b.text=="string")b.text={text:b.text};var h={marker:{type:"rectangle",fillStyle:"#418CF0"}};b=a.extend(true,{},h,b||{});var i=new B(b.marker);b.marker=i;var c={};a.extend(c,b);c.text=b.text.text;c.font=b.text.font||"12px sans-serif";c.textFillStyle=b.text.fillStyle||"black";c.textStrokeStyle=b.text.strokeStyle;c.textLineWidth=b.text.lineWidth;var e=new L(c);e.chart=this.chart;this.items.push(e)}else for(var g={font:this.font,textStrokeStyle:this.textStrokeStyle,textFillStyle:this.textFillStyle,textLineWidth:this.textLineWidth},f=this.chart.series.items,d=0;d<f.length;d++){var j=f[d];a.merge(this.items,j._getLegendItems(g))}};P.prototype._measure=function(){if(this.visible==false){this.width=0;this.height=0;return}this.padding=this.border.getPadding();this.title._measure();var f=this.title.width,d=this.title.height;if(this.title.text)d+=this.padding;for(var h=this._isHorizontal(),c=0,b=0,e=0;e<this.items.length;e++){var a=this.items[e];a._measure();if(h){c+=a.width+this._itemMargin;b=Math.max(b,a.height)}else{c=Math.max(c,a.width);b+=a.height}}f=Math.max(f,c);d+=b;var g=2*this.margin+2*this.padding;this.width=f+g;this.height=d+g};P.prototype._arrange=function(){if(this.visible==false)return;var c=this.x+this.margin,a=this.y+this.margin,f=2*this.margin;this.border.x=c;this.border.y=a;var e=this.width-f;this.border.width=e;this.border.height=this.height-f;e-=2*this.padding;c+=this.padding;a+=this.padding;if(this.title.text){this.title.x=c+(e-this.title.width)/2;this.title.y=a;a+=this.title.height+this.padding}for(var g=this._isHorizontal(),d=0;d<this.items.length;d++){var b=this.items[d];b.x=c;b.y=a;b._arrange();if(g)c+=b.width+this._itemMargin;else a+=b.height}};P.prototype._render=function(a){if(this.visible==false)return;this.border._render(a);this.title._render(a);for(var b=0;b<this.items.length;b++){var c=this.items[b];c._render(a)}};P.prototype.setOptions=function(b){if(b!=null&&typeof b.title=="string"){b.title={text:b.title};a.extend(b.title,this.defaults.title)}var c=a.extend(true,{},this.defaults,b||{});a.extend(this,c);this.margin=c.margin;this.border=new N(c.border);this.border.fillStyle=this.background||this.border.fillStyle;this.title=new U(c.title);this.title.chart=this.chart};function L(a){this.defaults={font:"12px sans-serif",textFillStyle:"black"};this.lblMargin=4;this.setOptions(a)}L.prototype._measure=function(){var a;if(this.text)a=this.textBlock.measure(this.chart.ctx);else a={width:0,height:0};this.width=a.width+this.marker.size+this.lblMargin;this.height=a.height};L.prototype._arrange=function(){var a=this.marker.size/2,b=this.x+a,c=this.y+a+(this.height-this.marker.size)/2;this.markerShape=this.marker.getShape(b,c,a);this.markerShape&&this.marker._setShapeSettings(this.markerShape);this.textBlock.x=this.x+this.marker.size+this.lblMargin;this.textBlock.y=this.y};L.prototype._render=function(a){a.push(this.markerShape);a.push(this.textBlock)};L.prototype.setOptions=function(c){var b=a.extend(true,{},this.defaults,c||{});a.extend(this,b);this.textBlock=new p(this.text);this.textBlock.textBaseline="top";this.textBlock.font=this.font;this.textBlock.fillStyle=this.textFillStyle;this.textBlock.strokeStyle=this.textStrokeStyle;this.textBlock.lineWidth=this.textLineWidth};function M(a){this.chart=a;this.border=new N;this.border.cornerRadius=0;this.border.lineWidth=0;this.isMouseOver=false}M.prototype._arrange=function(){var c=this.x,d=this.y;this.border.x=c;this.border.y=d;this.border.width=this.width;this.border.height=this.height;if(a.fn.jqChart.use_excanvas){var b=this.chart.areaCanvas;a(b).css({left:c,top:d});b.width=Math.max(this.width,0);b.height=Math.max(this.height,0);this.chart.areaRenderer.offsetX=-c;this.chart.areaRenderer.offsetY=-d}};M.prototype._render=function(a){this.border.fillStyle=this.fillStyle;this.border._render(a);this._renderGridLines(a)};M.prototype._renderSeries=function(d){for(var b=this.chart.series.items,a=0;a<b.length;a++){var c=b[a];!c.notInGridArea&&c._render(d)}};M.prototype._renderGridLines=function(e){for(var f=this.chart.axes.items,d=0;d<f.length;d++){var b=f[d],c=b.majorGridLines;if(c==null&&b.getOrientation()=="y"){c=new ab;if(b.minorGridLines!=null)b.minorGridLines.major=c}var h=this._getGridLines(b,b.minorGridLines,false);a.merge(e,h);var g=this._getGridLines(b,c,true);a.merge(e,g)}};M.prototype._getGridLines=function(b,a,j){if(a==null||a.visible!=true)return[];for(var h=[],n=b._getMarkInterval(a,j),i=b._getIntervals(n,a,j),c,d,e,f,g=0;g<i.length;g++){var m=b.getPosition(i[g]);switch(b.location){case"left":case"right":d=f=m;c=this.x;e=c+this.width;break;case"top":case"bottom":c=e=m;d=this.y;f=d+this.height}var l=new k(c,d,e,f);a._setLineSettings(l);h.push(l)}return h};M.prototype._contains=function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height};function t(b,a){this.chart=b;a&&this.setOptions(a)}t.prototype.setOptions=function(e){this.items=[];if(a.isArray(e)==false)return;for(var f=0;f<e.length;f++){var c=e[f];if(c==null)continue;var b,d=c.type||"column";d=d.toLowerCase();switch(d){case"area":b=new E(c);break;case"splinearea":b=new R(c);break;case"bar":b=new l(c);break;case"bubble":b=new D(c);break;case"line":b=new x(c);break;case"spline":b=new S(c);break;case"pie":b=new u(c);break;case"scatter":b=new J(c);break;case"stackedcolumn":b=new F(c);break;case"stackedbar":b=new H(c);break;case"stock":b=new w(c);break;case"candlestick":b=new Q(c);break;case"radar":case"radarline":b=new q(c);break;case"radararea":b=new X(c);break;case"radarspline":b=new W(c);break;case"radarsplinearea":b=new V(c);break;case"column":default:b=new v(c)}b.type=d;b.chart=this.chart;this.items.push(b)}};t.prototype._initData=function(){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];c._initData()}};t.prototype._initCategories=function(){for(var c=[],d=0,a=0,e=this.items,b=0;b<e.length;b++){var f=e[b];for(a=d;a<f.categories.length;a++){var g=f.categories[a];c.push(g)}d=a}this.categories=c};t.prototype._initRanges=function(){for(var e=i,d=j,c=i,b=j,g=this.items,f=0;f<g.length;f++){var a=g[f];if(e>a.min)e=a.min;if(d<a.max)d=a.max;if(c>a.minX)c=a.minX;if(b<a.maxX)b=a.maxX}this.min=e;this.max=d;this.minX=c;this.maxX=b};t.prototype._findClusters=function(g,f){for(var c=-1,a=0,d=this.items,b=0;b<d.length;b++){var e=d[b];if(e==g)c=a;if(e.type==f)a++}return{index:c,count:a}};t.prototype._getSeriesFromType=function(e){for(var b=[],c=this.items,a=0;a<c.length;a++){var d=c[a];d.type==e&&b.push(d)}return b};t.prototype._initColors=function(){for(var b=this.chart.paletteColors,c=this.items,a=0;a<c.length;a++){var d=c[a];d._initColors(b.getColor(a),b)}};t.prototype._getPixelMargins=function(f){for(var b=0,a=0,e=this.items,c=0;c<e.length;c++){var g=e[c],d=g._getPixelMargins(f);b=Math.max(b,d.left);a=Math.max(a,d.right)}return{left:b,right:a}};t.prototype._isAnchoredToOrigin=function(){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];if(c._isAnchoredToOrigin())return true}return false};t.prototype._render=function(d){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];c.notInGridArea&&c._render(d)}};t.prototype.getSeries=function(a){return this.items[a]};function b(a){this.setOptions(a)}b.prototype._getMarker=function(d,e,b,f,c){if(b==null)b=this.markers.size/2;var a=this.markers.getShape(d,e,b,c);if(a==null)return null;this.markers._setShapeSettings(a);this._setMarkerSettings(a);return a};b.prototype._addMarker=function(d,e,i,c,h){var a=this._correctMarkerPosition(d,e,c),f=this._getMarker(a.x,a.y,i,c,h),g=this.markers.offset,b=null;if(g){b=new k(d,e,a.x,a.y);this.markers._setLineSettings(b);this._setMarkerLinkLineSettings(b)}return{marker:f,line:b,offset:a.offset}};b.prototype._correctMarkerPosition=function(e,b,d){var a=this.markers.offset;if(a){var c=d>=this.realYAxis.crossing;b=c?b-a:b+a}return{x:e,y:b,offset:a}};b.prototype._addMarkerAndLabel=function(e,l,h,i,d,g,c,k,b){var f=0,o=g?g:d;if(this.markers&&this.markers.isVisible()){if(!b)b={chart:this.chart,series:this,dataItem:this.data[d],x:this.realXAxis._getValue(o),y:c};var m=b.dataItem[2],a=this._addMarker(h,i,null,c,m);if(a.marker){a.marker.context=b;a.line&&e.push(a.line);e.push(a.marker);f=this.markers.offset}}if(this.labels&&this.labels.visible!==false){var j=this._getLabelValue(c,d),n=this._getDataPointLabel(c,h,i,k+f,j);l.push(n)}};b.prototype._setMarkerSettings=function(a){a.fillStyle=a.fillStyle||this.fillStyle};b.prototype._setMarkerLinkLineSettings=function(a){a.strokeStyle=a.strokeStyle||this.markers.strokeStyle||this.fillStyle};b.prototype._setShapeSettings=function(a){a.fillStyle=this.fillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit};b.prototype._getXAxisType=function(){var b=this.data;if(a.isArray(b)==false)return"none";for(var d=0;d<b.length;d++){var c=b[d];if(c==null)continue;if(a.isArray(c)==false)return"CategoryAxis";var e=c[0];if(e==null)continue;var f=a.type(e);switch(f){case"number":return"LinearAxis";case"date":return"DateTimeAxis";case"string":return"CategoryAxis";default:return"none"}}return"none"};b.prototype._initXYData=function(){for(var k=this.data,f=i,e=j,d=i,c=j,l=k.length,h=0;h<l;h++){var g=k[h];if(g==null)continue;var a=g[0];if(d>a)d=a;if(c<a)c=a;var b=g[1];if(f>b)f=b;if(e<b)e=b}this.min=f;this.max=e;this.minX=d;this.maxX=c};b.prototype._initCatValueData=function(){for(var h=this.data,g=i,f=j,e=[],k=h.length,d=0;d<k;d++){var c=h[d];if(c==null){e.push((d+1).toString());continue}var b=c;if(a.isArray(c)==false)e.push((d+1).toString());else{e.push(c[0]);b=c[1]}if(g>b)g=b;if(f<b)f=b}this.min=g;this.max=f;this.categories=e};b.prototype._initDateValueData=function(){for(var k=this.data,f=i,e=j,d=i,c=j,l=k.length,h=0;h<l;h++){var g=k[h];if(g==null)continue;var a=g[0].getTime();if(d>a)d=a;if(c<a)c=a;var b=g[1];if(f>b)f=b;if(e<b)e=b}this.min=f;this.max=e;this.minX=d;this.maxX=c};b.prototype._initData=function(){var a=this._getXAxisType();this.xAxisType=a;switch(a){case"LinearAxis":this._initXYData();return;case"DateTimeAxis":this._initDateValueData();return;case"CategoryAxis":this._initCatValueData();return}};b.prototype._createXAxis=function(){var b={location:"bottom",orientation:"x"},a;switch(this.xAxisType){case"DateTimeAxis":a=new h(b);break;case"CategoryAxis":a=new r(b);break;default:a=new g(b)}a.chart=this.chart;return a};b.prototype._createYAxis=function(){var a=new g({location:"left",orientation:"y"});a.chart=this.chart;return a};b.prototype._initXAxis=function(b){var a=this._findXAxis(b);if(a==null){a=this._createXAxis();b.push(a)}this.realXAxis=a};b.prototype._initYAxis=function(b){var a=this._findYAxis(b);if(a==null){a=this._createYAxis();b.push(a)}this.realYAxis=a};b.prototype._initSharedAxes=function(){if(this.realXAxis&&this.realYAxis){this.realXAxis.sharedAxis=this.realYAxis;this.realYAxis.sharedAxis=this.realXAxis}};b.prototype._findAxis=function(b,d){if(d!=null)for(var a=0;a<b.length;a++){var c=b[a];if(c.name==d)return c}return null};b.prototype._findXAxis=function(b){var a=this._findAxis(b,this.axisX);if(a!=null)return a;for(var c=0;c<b.length;c++){a=b[c];if(a.getOrientation(this.type)!="x"||a.isVertical())continue;if(a.DataType==this.xAxisType)return a}return null};b.prototype._findYAxis=function(b){var a=this._findAxis(b,this.axisY);if(a!=null)return a;for(var c=0;c<b.length;c++){a=b[c];if(a.getOrientation(this.type)!="y"||a.isVertical()==false)continue;if(a.DataType=="LinearAxis")return a}return null};b.prototype._getLegendItems=function(b){var f=[],c;if(this.title!=null)c=this.title;else{var g=a.inArray(this,this.chart.series.items)+1;c="Series "+g.toString()}var e=new B;this._setLegendMarkerSettings(e);b=a.extend(true,{},b,{text:c,marker:e});var d=new L(b);d.chart=this.chart;d.series=this;f.push(d);return f};b.prototype._setLegendMarkerSettings=function(a){a.fillStyle=this.fillStyle;a.lineWidth=this.lineWidth;a.strokeStyle=this.strokeStyle};b.prototype._initColors=function(a){this.fillStyle=this.fillStyle||a;this.strokeStyle=this.strokeStyle||a};b.prototype._getPixelMargins=function(f){var h=4,g=0,d;if(this.markers){d=this.markers.getSize();g=this.markers.offset}else d={width:0,height:0};var c;if(this.labels&&this.labels.visible!==false){var i=new p("TEST");a.extend(i,this.labels);c=i.measure(this.chart.ctx)}else c={width:0,height:0};var e=f.isVertical(),j=this._isBarSeries(),b;if(e)b=d.height/2+c.height+h;else b=d.width/2+c.width+h;if(j&&!e||!j&&e){b+=g;b*=1.25;var k=b/f.length;b*=1+k}if(f.getOrientation(this.type)=="x")b=Math.max(b,6);else b=Math.max(b,12);return{left:b,right:b}};b.prototype._isAnchoredToOrigin=function(){return false};b.prototype._getLabelText=function(c){return a.fn.jqChart.labelFormatter(this.labels.stringFormat,c)};b.prototype._getLabelValue=function(a,b){switch(this.labels.valueType){case"percentage":a=this.getPercentage(a,b)}return a};b.prototype._getDataPointLabel=function(h,i,d,c,e){var f=h>=this.realYAxis.crossing,g=this._getLabelText(e),b=new p(g);a.extend(b,this.labels);b.textAlign="center";b.x=i;if(f){b.y=d-c;b.textBaseline="bottom"}else{b.y=d+c;b.textBaseline="top"}return b};b.prototype._initStackedData=function(b){var f=this._getXAxisType();this.xAxisType=f;var c=this.data;if(a.isArray(c)==false)return;var g=this.chart.series._findClusters(this,b),e=this.chart.series._getSeriesFromType(b),d=this._calcStackedData(c,g,e);a.extend(this,d)};b.prototype._getTotal=function(h,i){for(var f=this.chart.series._getSeriesFromType(h),e=0,d=0,c=0;c<f.length;c++){var j=f[c],g=j.data;if(g==null)continue;var b=g[i];if(a.isArray(b))b=b[1];if(b==null)continue;if(b>0)e+=b;else d+=b}return{positive:e,negative:d}};b.prototype._getStackedTotal=function(e,f){for(var d=0,c=0,b=0;b<e.length;b++){var g=e[b],a=g.dataValues[f];if(a.actualValue>0)d+=a.actualValue;else c+=a.actualValue}return{positive:d,negative:c}};b.prototype._isBarSeries=function(){var a=this.type;return a=="bar"||a=="stackedbar"?true:false};b.prototype._getPrevStackedPosition=function(g,f,h,e,c,d){for(var b=f-1;b>=0;b--){var a=g[b].dataValues[h];if(d){if(a.value==a.positive)return c.getPosition(a.value)}else if(a.value==a.negative)return c.getPosition(a.value)}return e};b.prototype._calcStackedData=function(m,l,n){for(var h=i,g=j,f=[],p=m.length,k=[],d=0;d<p;d++){var b={positive:0,negative:0},e=null;if(l.index>0){e=n[l.index-1].dataValues[d];b.positive=e.positive;b.negative=e.negative}var c=m[d];if(c==null){f.push((d+1).toString());continue}if(a.isArray(c)==false)f.push((d+1).toString());else f.push(c[0]);if(a.isArray(c))c=c[1];b.actualValue=c;if(c>0){b.positive+=c;b.value=b.positive}else if(c<0){b.negative+=c;b.value=b.negative}else if(e!=null)b.value=e.value;else b.value=0;k[d]=b;g=Math.max(g,b.value);h=Math.min(h,b.value)}var o={min:h,max:g,dataValues:k,categories:f};return o};b.prototype._getTooltip=function(b){var a="<b>"+b.y+"</b><br/>";if(this.title){var c=d.getColorFromFillStyle(this.fillStyle);a='<span style="color:'+c+'">'+this.title+"</span>: "+a}return a};b.prototype._getDataLengthSum=function(){if(this.xAxisType=="CategoryAxis")return this.data.length;var c=this.chart.series._getSeriesFromType(this.type),b=0;a.each(c,function(c,a){if(a.data)b+=a.data.length});return b};b.prototype.getPercentage=function(a,d){var b=this._getTotal(this.type,d),c=a>0?b.positive:b.negative;a=c!=0?100*Math.abs(a)/Math.abs(c):0;return a};b.prototype.defaults={lineCap:"butt",lineJoin:"round",lineWidth:1,strokeStyle:null,miterLimit:10,pointWidth:.6};b.prototype.setOptions=function(c){var b=a.extend({},this.defaults,c||{});a.extend(this,b);if(b.markers!=null)this.markers=new B(b.markers)};function E(a){b.call(this,a)}E.prototype=new b;E.constructor=E;E.prototype._render=function(j){if(!this.data)return;var k=this.chart.gridArea,w=k.y,u=k.y+k.height,h=this.realYAxis.getCrossingPosition();h=c.fitInRange(h,w,u);for(var v=this.data.length,d=[],o=[],n=[],t=this.markers&&this.markers.isVisible()?this.markers.size/2:0,b,m,i,s,l,r,f,e=0;e<v;e++){var g=this.data[e];if(g==null)continue;var q=e;if(a.isArray(g)==false){b=e+.5;f=g}else{var x=g[0];switch(this.xAxisType){case"LinearAxis":case"DateTimeAxis":b=x;q=b;break;case"CategoryAxis":b=e+.5}f=g[1];if(typeof f!="number")continue}b=this.realXAxis.getPosition(b);m=this.realYAxis.getPosition(f);if(i==null){i=b;s=h}l=b;r=h;d.push(b);d.push(m);if(this.realYAxis.isValueVisible(f)===false)continue;this._addMarkerAndLabel(o,n,b,m,e,q,f,t)}if(l){d.push(l);d.push(r)}if(i){d.push(i);d.push(s)}var p=new z(d);this._setShapeSettings(p);j.push(p);a.merge(j,o);a.merge(j,n)};E.prototype._isAnchoredToOrigin=function(){return true};function R(a){E.call(this,a)}R.prototype=new E;R.constructor=R;R.prototype._render=function(j){if(!this.data)return;var k=this.chart.gridArea,w=k.y,u=k.y+k.height,h=this.realYAxis.getCrossingPosition();h=c.fitInRange(h,w,u);for(var v=this.data.length,d=[],o=[],n=[],t=this.markers&&this.markers.isVisible()?this.markers.size/2:0,b,m,i,s,l,r,f,e=0;e<v;e++){var g=this.data[e];if(g==null)continue;var q=e;if(a.isArray(g)==false){b=e+.5;f=g}else{var x=g[0];switch(this.xAxisType){case"LinearAxis":case"DateTimeAxis":b=x;q=b;break;case"CategoryAxis":b=e+.5}f=g[1];if(typeof f!="number")continue}b=this.realXAxis.getPosition(b);m=this.realYAxis.getPosition(f);if(i==null){i=b;s=h}l=b;r=h;d.push(b);d.push(m);if(this.realYAxis.isValueVisible(f)===false)continue;this._addMarkerAndLabel(o,n,b,m,e,q,f,t)}if(l){d.push(l);d.push(r)}if(i){d.push(i);d.push(s)}var p=new Z(d);this._setShapeSettings(p);j.push(p);a.merge(j,o);a.merge(j,n)};R.prototype._getPixelMargins=function(d){var a=b.prototype._getPixelMargins.call(this,d),c=d.length/10,f=Math.max(c,a.left),e=Math.max(c,a.right);return{left:f,right:e}};function l(a){b.call(this,a)}l.prototype=new b;l.constructor=l;l.prototype._createXAxis=function(){var b={location:"left",orientation:"x"},a;switch(this.xAxisType){case"DateTimeAxis":a=new h(b);break;case"CategoryAxis":a=new r(b);break;default:a=new g(b)}a.chart=this.chart;return a};l.prototype._createYAxis=function(){var a=new g({location:"bottom",orientation:"y"});a.chart=this.chart;return a};l.prototype._findXAxis=function(b){var a=this._findAxis(b,this.axisX);if(a!=null)return a;var c;if(this.categories)c=r;else c=g;for(var d=0;d<b.length;d++){a=b[d];if(a.getOrientation(this.type)!="x"||a.isVertical()==false)continue;if(a instanceof c)return a}return null};l.prototype._findYAxis=function(b){var a=this._findAxis(b,this.axisY);if(a!=null)return a;for(var c=0;c<b.length;c++){a=b[c];if(a.getOrientation(this.type)!="y"||a.isVertical())continue;if(a instanceof g)return a}return null};l.prototype._render=function(a){if(!this.data)return;switch(this.xAxisType){case"LinearAxis":case"DateTimeAxis":this._renderLinearData(a);break;case"CategoryAxis":this._renderCatData(a)}};l.prototype._renderCatData=function(l){var o=this.chart.gridArea,u=o.x,A=u+o.width,b=this.realYAxis.getCrossingPosition();b=c.fitInRange(b,u,A);b=Math.round(b);var n=this.chart.series._findClusters(this,"bar"),v=this._getDataLengthSum(),y=o.height/this.realXAxis.getZoom(),t=y/v,B=t/n.count,g=Math.round(this.pointWidth*B),x=n.count*g,k=(t-x)/2;k=Math.round(k+n.index*g);for(var s=[],q=[],z=this.markers&&this.markers.isVisible()?this.markers.size/2+2:2,f,h,e=0;e<v;e++){var j=this.data[e];if(j==null)continue;var C=e,d;if(a.isArray(j)==false)d=j;else d=j[1];if(d==null)continue;h=Math.round(this.realXAxis.getPosition(C)-k-g);f=Math.round(this.realYAxis.getPosition(d));var w=f,p;if(f<=b)p=b-f;else{p=f-b;f=b}var r={chart:this.chart,series:this,dataItem:this.data[e],x:this.realXAxis._getValue(e),y:d},i=new m(f,h,p,g);i.context=r;i.center={x:Math.round(w),y:Math.round(h+g/2)};this._setShapeSettings(i);l.push(i);if(this.realYAxis.isValueVisible(d)===false)continue;h+=g/2;this._addMarkerAndLabel(s,q,w,h,e,null,d,z,r)}a.merge(l,s);a.merge(l,q)};l.prototype._renderLinearData=function(i){var j=this.chart.gridArea,s=j.x,z=s+j.width,b=this.realYAxis.getCrossingPosition();b=c.fitInRange(b,s,z);b=Math.round(b);for(var u=this._getDataLengthSum(),w=j.height/this.realXAxis.getZoom(),y=w/u,n=this.pointWidth*y,r=[],p=[],x=this.markers&&this.markers.isVisible()?this.markers.size/2:0,d,o,f=0;f<u;f++){var h=this.data[f];if(h==null||a.isArray(h)==false)continue;var l=h[0],e=h[1];if(l==null||e==null)continue;var q={chart:this.chart,series:this,dataItem:this.data[f],x:l,y:e};o=this.realXAxis.getPosition(l);d=Math.round(this.realYAxis.getPosition(e));var v=d,k;if(d<=b)k=b-d;else{k=d-b;d=b}var t=o-n/2,g=new m(d,t,k,n);g.context=q;g.center={x:Math.round(v),y:Math.round(t+n/2)};this._setShapeSettings(g);i.push(g);if(this.realYAxis.isValueVisible(e)===false)continue;this._addMarkerAndLabel(r,p,v,o,f,null,e,x,q)}a.merge(i,r);a.merge(i,p)};l.prototype._correctMarkerPosition=function(a,e,d){var b=this.markers.offset;if(b){var c=d>=this.realYAxis.crossing;a=c?a+b:a-b}return{x:a,y:e}};l.prototype._getPixelMargins=function(a){if(a.isVertical()==false){var c=b.prototype._getPixelMargins.call(this,a),d=a.length/10,i=Math.max(d,c.left),h=Math.max(d,c.right);return{left:i,right:h}}if(this.data==null)return{left:0,right:0};var g=4,j=this._getDataLengthSum(),f=a.length/this.realXAxis.getZoom(),e=.5*f/j+g;return{left:e,right:e}};l.prototype._isAnchoredToOrigin=function(){return true};l.prototype._getDataPointLabel=function(h,d,i,c,e){var f=h<=this.realYAxis.crossing,g=this._getLabelText(e),b=new p(g);a.extend(b,this.labels);b.y=i;if(f){b.x=d-c;b.textAlign="right"}else{b.x=d+c;b.textAlign="left"}return b};l.prototype._initColors=function(a){this.fillStyle=this.fillStyle||a};function D(c){var d=a.extend(true,{},this.defaults,{markers:{strokeStyle:null}});this.defaults=d;b.call(this,c)}D.prototype=new b;D.constructor=D;D.prototype._initData=function(){if(!this.data)return;var q=this._getXAxisType();this.xAxisType=q;var c=[];a.merge(c,this.data);for(var p=this.chart.series.items,b=0;b<p.length;b++){var m=p[b];if(m==this||m.type!="bubble")continue;a.merge(c,m.data)}if(a.isArray(c)==false)return;for(var l=i,k=j,h=i,g=j,e=i,d=j,r=c.length,b=0;b<r;b++){var n=c[b][0],o=c[b][1],f=c[b][2];if(n==null||o==null||f==null)continue;h=Math.min(h,n);g=Math.max(g,n);l=Math.min(l,o);k=Math.max(k,o);e=Math.min(e,f);d=Math.max(d,f)}this.min=l;this.max=k;this.minX=h;this.maxX=g;this.minSize=e;this.maxSize=d};D.prototype._render=function(i){if(!this.data)return;for(var k=this.chart.gridArea,n=Math.min(k.width,k.height)*.25,q=this.data.length,f,g,e,c,a,b=0;b<q;b++){var d=this.data[b];if(d==null)continue;c=d[0];a=d[1];e=d[2];if(c==null||a==null||e==null)continue;var p=e/this.maxSize,j=Math.max(p*n,0);f=this.realXAxis.getPosition(c);g=this.realYAxis.getPosition(a);if(this.markers&&this.markers.isVisible()){var m={chart:this.chart,series:this,dataItem:this.data[b],x:c,y:a,size:e},h=this._getMarker(f,g,j/2);h.context=m;i.push(h)}if(this.labels&&this.labels.visible!==false){var l=this._getLabelValue(a,b),o=this._getDataPointLabel(a,f,g,j/2,l);i.push(o)}}};D.prototype._getPixelMargins=function(){var a=this.chart.gridArea;if(a.width==null)return{left:0,right:0};var c=Math.min(a.width,a.height)*.35,b=c/2;return{left:b+4,right:b+4}};D.prototype._getTooltip=function(a){var b="x: <b>"+this.realXAxis.getLabel(a.x)+"</b></br>y: <b>"+a.y.toString()+"</b></br>size: <b>"+a.size.toString()+"</b>";if(this.title){var c=d.getColorFromFillStyle(this.fillStyle);b='<div style="color:'+c+'">'+this.title+"</div>"+b}return b};function v(a){b.call(this,a)}v.prototype=new b;v.constructor=v;v.prototype._render=function(a){if(!this.data)return;switch(this.xAxisType){case"LinearAxis":case"DateTimeAxis":this._renderLinearData(a);break;case"CategoryAxis":this._renderCatData(a)}};v.prototype._renderCatData=function(o){var i=this.chart.gridArea,B=i.y,A=i.y+i.height,b=this.realYAxis.getCrossingPosition();b=c.fitInRange(b,B,A);b=Math.round(b);var p=this.chart.series._findClusters(this,"column"),u=this._getDataLengthSum(),x=i.width/this.realXAxis.getZoom(),t=x/u,z=t/p.count,h=Math.round(this.pointWidth*z),w=p.count*h,n=(t-w)/2;n=Math.round(n+p.index*h);for(var s=[],q=[],y=this.markers&&this.markers.isVisible()?this.markers.size/2:0,f,g,e=0;e<u;e++){var k=this.data[e];if(k==null)continue;f=e;var d;if(a.isArray(k)==false)d=k;else d=k[1];if(d==null)continue;f=Math.round(this.realXAxis.getPosition(f)+n);g=Math.round(this.realYAxis.getPosition(d));var v=g,l;if(g<=b)l=b-g;else{l=g-b;g=b}var r={chart:this.chart,series:this,dataItem:this.data[e],x:this.realXAxis._getValue(e),y:d},j=new m(f,g,h,l);j.context=r;j.center={x:Math.round(f+h/2),y:Math.round(v)};this._setShapeSettings(j);o.push(j);if(this.realYAxis.isValueVisible(d)===false)continue;f+=h/2;this._addMarkerAndLabel(s,q,f,v,e,null,d,y,r)}a.merge(o,s);a.merge(o,q)};v.prototype._renderLinearData=function(l){var h=this.chart.gridArea,y=h.y,x=h.y+h.height,b=this.realYAxis.getCrossingPosition();b=c.fitInRange(b,y,x);b=Math.round(b);for(var s=this._getDataLengthSum(),u=h.width/this.realXAxis.getZoom(),w=u/s,n=this.pointWidth*w,q=[],o=[],v=this.markers&&this.markers.isVisible()?this.markers.size/2:0,d,e,g=0;g<s;g++){var j=this.data[g];if(j==null||a.isArray(j)==false)continue;d=j[0];var f=j[1];if(d==null||f==null)continue;var p={chart:this.chart,series:this,dataItem:this.data[g],x:d,y:f};d=this.realXAxis.getPosition(d);e=Math.round(this.realYAxis.getPosition(f));var t=e,k;if(e<=b)k=b-e;else{k=e-b;e=b}var r=d-n/2,i=new m(r,e,n,k);i.context=p;i.center={x:Math.round(r+n/2),y:Math.round(t)};this._setShapeSettings(i);l.push(i);if(this.realYAxis.isValueVisible(f)===false)continue;this._addMarkerAndLabel(q,o,d,t,g,null,f,v,p)}a.merge(l,q);a.merge(l,o)};v.prototype._getPixelMargins=function(a){if(a.isVertical()){var c=b.prototype._getPixelMargins.call(this,a),d=a.length/10,i=Math.max(d,c.left),h=Math.max(d,c.right);return{left:i,right:h}}if(this.data==null)return{left:0,right:0};var g=4,j=this._getDataLengthSum(),f=a.length/this.realXAxis.getZoom(),e=.5*f/j+g;return{left:e,right:e}};v.prototype._isAnchoredToOrigin=function(){return true};v.prototype._initColors=function(a){this.fillStyle=this.fillStyle||a};function x(c){var d=a.extend(true,{},this.defaults,{lineWidth:2,markers:{}});this.defaults=d;b.call(this,c)}x.prototype=new b;x.constructor=x;x.prototype._render=function(b){if(!this.data)return;var a=this._getXAxisType();this.xAxisType=a;switch(a){case"LinearAxis":case"DateTimeAxis":this._renderXYData(b);return;case"CategoryAxis":this._renderCatValueData(b);return}};x.prototype._renderCatValueData=function(g){for(var m=this.data.length,b=[],k=[],i=[],l=this.markers&&this.markers.isVisible()?this.markers.size/2:0,e,h,c,d=0;d<m;d++){var f=this.data[d];if(f==null){b.push(null);b.push(null);continue}e=d+.5;if(a.isArray(f)==false)c=f;else{c=f[1];if(typeof c!="number"){b.push(null);b.push(null);continue}}e=this.realXAxis.getPosition(e);h=this.realYAxis.getPosition(c);b.push(e);b.push(h);if(this.realYAxis.isValueVisible(c)===false)continue;this._addMarkerAndLabel(k,i,e,h,d,null,c,l)}var j=new C(b);this._setShapeSettings(j);g.push(j);a.merge(g,k);a.merge(g,i)};x.prototype._renderXYData=function(c){var m=this.data.length,n=this.markers!=null&&this.markers.isVisible(),o=this.labels!=null&&this.labels.visible!==false;if(m>1e3&&n==false&&o==false){this._renderLargeXYData(c);return}for(var b=[],l=[],j=[],p=this.markers&&this.markers.isVisible()?this.markers.size/2:0,h,i,f,d,e=0;e<m;e++){var g=this.data[e];if(g==null){b.push(null);b.push(null);continue}f=g[0];d=g[1];h=this.realXAxis.getPosition(f);i=this.realYAxis.getPosition(d);b.push(h);b.push(i);if(this.realYAxis.isValueVisible(d)===false)continue;this._addMarkerAndLabel(l,j,h,i,e,f,d,p)}var k=new C(b);this._setShapeSettings(k);c.push(k);a.merge(c,l);a.merge(c,j)};x.prototype._renderLargeXYData=function(n){for(var r=this.data.length,q=this.chart.gridArea.width,m=this.chart.gridArea.height,o=2*(this.maxX-this.minX)/q,p=2*(this.max-this.min)/m,a=[],k,l,b,c,i=0,j=0,d=0,e=0,g=0;g<r;g++){var f=this.data[g];if(f==null){a.push(null);a.push(null);continue}b=f[0];c=f[1];d+=Math.abs(i-b);e+=Math.abs(j-c);if(d<o&&e<p)continue;d=0;e=0;i=b;j=c;k=this.realXAxis.getPosition(b);l=this.realYAxis.getPosition(c);a.push(k);a.push(l)}var h=new C(a);this._setShapeSettings(h);n.push(h)};x.prototype._setLegendMarkerSettings=function(a){b.prototype._setLegendMarkerSettings.call(this,a);a.type="line"};function u(a){b.call(this,a)}u.prototype=new b;u.constructor=u;u.prototype._initXAxis=function(){};u.prototype._initYAxis=function(){};u.prototype._getYValues=function(){for(var e=[],f=this.data.length,d=0;d<f;d++){var b=this.data[d];if(b==null)continue;var c;if(a.isArray(b)==false)c=b;else c=b[1];e.push(Math.abs(c))}return e};u.prototype._render=function(n){if(!this.data)return;var b=this.chart.gridArea,j=this._getYValues(),s=c.sum(j),r=j.length,m=10,i;if(b.width<b.height)i=b.width/2-m;else i=b.height/2-m;for(var t=b.x+b.width/2,u=b.y+b.height/2,q=Math.PI*2/s,f=-Math.PI/2,d=0;d<r;d++){var e=j[d],h=f+e*q,k=new T(t,u,i,f,h);this._setShapeSettings(k);k.fillStyle=this.palette.getColor(d);var v={chart:this.chart,series:this,dataItem:this.data[d],value:e};k.context=v;n.push(k);f=h}if(!this.labels||this.labels.visible===false)return;for(var f=-Math.PI/2,d=0;d<r;d++){var e=j[d],h=f+e*q;switch(this.labels.valueType){case"percentage":e=100*e/s}if(e==0)continue;var w=this._getLabelText(e),g=new p(w);g.textBaseline="top";a.extend(g,this.labels);var o=g.measure(this.chart.ctx),l=this._getSliceCenter(t,u,(f+h)/2,i*.6);g.x=l.x-o.width/2;g.y=l.y-o.height/2;n.push(g);f=h}};u.prototype._getSliceCenter=function(c,d,b,a){return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}};u.prototype._getLegendItems=function(c){var d=[];if(!this.data)return d;for(var e,j=this.data.length,b=0;b<j;b++){var g=this.data[b];if(g==null)continue;var k;if(a.isArray(g)==false){var i=b+1;e=i.toString()}else e=g[0];var h=new B;h.fillStyle=this.palette.getColor(b);c=a.extend(true,{},c,{text:e,marker:h});var f=new L(c);f.chart=this.chart;f.series=this;d.push(f)}return d};u.prototype._initColors=function(b,a){this.palette=a};u.prototype._getTooltip=function(b){var a=this.getPercentage(b.value);a=this.chart.stringFormat(a,"%.2f%%");var c="<b>"+b.value+" ("+a+")</b><br/>",d=b.dataItem[0];if(d)c=d+"</br>"+c;return c};u.prototype.getPercentage=function(d){var a=this._getYValues(),b=c.sum(a);return 100*d/b};function J(c){var d=a.extend(true,{},this.defaults,{markers:{type:"diamond"}});this.defaults=d;b.call(this,c)}J.prototype=new b;J.constructor=J;J.prototype._render=function(e){if(!this.data)return;for(var i=this.data.length,f,g,a,b,h=this.markers&&this.markers.isVisible()?this.markers.size/2:0,c=0;c<i;c++){var d=this.data[c];if(d==null)continue;a=d[0];b=d[1];if(a==null||b==null||this.realXAxis.isValueVisible(a)==false||this.realYAxis.isValueVisible(b)==false)continue;f=this.realXAxis.getPosition(a);g=this.realYAxis.getPosition(b);this._addMarkerAndLabel(e,e,f,g,c,a,b,h)}};J.prototype._setLegendMarkerSettings=function(a){a.fillStyle=this.fillStyle;if(this.markers)a.type=this.markers.type};J.prototype._getTooltip=function(b){var a="x: <b>"+this.realXAxis.getLabel(b.x)+"</b></br>y: <b>"+this.realYAxis.getLabel(b.y)+"</b>";if(this.title){var c=d.getColorFromFillStyle(this.fillStyle);a='<div style="color:'+c+'">'+this.title+"</div>"+a}return a};function S(a){x.call(this,a)}S.prototype=new x;S.constructor=S;S.prototype._render=function(i){if(!this.data)return;for(var o=this.data.length,f=[],l=[],k=[],n=this.markers&&this.markers.isVisible()?this.markers.size/2:0,b,j,h,d,e,c=0;c<o;c++){h=false;var m=c,g=this.data[c];if(g==null)h=true;else if(a.isArray(g)==false){b=c+.5;e=g}else{var p=g[0];switch(this.xAxisType){case"LinearAxis":case"DateTimeAxis":b=p;m=b;break;case"CategoryAxis":b=c+.5}e=g[1];if(typeof e!="number")h=true}if(h==true){d=new A(f);this._setShapeSettings(d);i.push(d);f=[];continue}b=this.realXAxis.getPosition(b);j=this.realYAxis.getPosition(e);f.push(b);f.push(j);if(this.realYAxis.isValueVisible(e)===false)continue;this._addMarkerAndLabel(l,k,b,j,c,m,e,n)}d=new A(f);this._setShapeSettings(d);i.push(d);a.merge(i,l);a.merge(i,k)};S.prototype._getPixelMargins=function(d){var a=b.prototype._getPixelMargins.call(this,d),c=d.length/10,f=Math.max(c,a.left),e=Math.max(c,a.right);return{left:f,right:e}};function F(a){v.call(this,a)}F.prototype=new v;F.constructor=F;F.prototype._initData=function(){this._initStackedData("stackedcolumn")};F.prototype._render=function(p){if(!this.data)return;var l=this.chart.gridArea,F=l.y,C=l.y+l.height,g=this.realYAxis.getCrossingPosition();g=c.fitInRange(g,F,C);g=Math.round(g);for(var E=this.chart.series._findClusters(this,"stackedcolumn"),z=this.data.length,B=l.width/this.realXAxis.getZoom(),v=B/z,o=Math.round(this.pointWidth*v),D=Math.round((v-o)/2),u=[],s=[],r=this.chart.series._getSeriesFromType("stackedcolumn"),d,e,f,b=0;b<z;b++){var f=this.dataValues[b];if(f==null)continue;var h=f.value;d=b;d=Math.round(this.realXAxis.getPosition(d)+D);e=Math.round(this.realYAxis.getPosition(h));var j=this._getPrevStackedPosition(r,E.index,b,g,this.realYAxis,h>=0),q=e,k;if(e<=j)k=j-e;else{k=e-j;e=j}var t={chart:this.chart,series:this,dataItem:this.data[b],value:f.actualValue,x:this.realXAxis._getValue(b),y:h},n=new m(d,e,o,k);n.context=t;n.center={x:Math.round(d+o/2),y:Math.round(q)};this._setShapeSettings(n);p.push(n);d+=o/2;if(this.markers&&this.realYAxis.isValueVisible(h)){var w=this._getMarker(d,q,null,h);w.context=t;u.push(w)}if(this.labels&&this.labels.visible!==false&&f.actualValue!=0){var i=f.actualValue;switch(this.labels.valueType){case"percentage":var y=this._getStackedTotal(r,b),A=i>0?y.positive:y.negative;i=A!=0?100*Math.abs(i)/Math.abs(A):0}var x=this._getDataPointLabel(f.actualValue,d,q,-k/2,i);x.textBaseline="middle";s.push(x)}}a.merge(p,u);a.merge(p,s)};F.prototype._getTooltip=function(b){var a="<b>"+b.value+"</b><br/>";if(this.title){var c=d.getColorFromFillStyle(this.fillStyle);a='<span style="color:'+c+'">'+this.title+"</span>: "+a}return a};function H(a){l.call(this,a)}H.prototype=new l;H.constructor=H;H.prototype._initData=function(){this._initStackedData("stackedbar")};H.prototype._render=function(o){if(!this.data)return;var q=this.chart.gridArea,z=q.x,F=z+q.width,g=this.realYAxis.getCrossingPosition();g=c.fitInRange(g,z,F);g=Math.round(g);for(var E=this.chart.series._findClusters(this,"stackedbar"),A=this.data.length,C=q.height/this.realXAxis.getZoom(),w=C/A,i=Math.round(this.pointWidth*w),D=Math.round((w-i)/2),v=[],t=[],s=this.chart.series._getSeriesFromType("stackedbar"),b,f,e,d=0;d<A;d++){var e=this.dataValues[d];if(e==null)continue;var h=e.value;b=d;f=Math.round(this.realXAxis.getPosition(b)-D-i);b=Math.round(this.realYAxis.getPosition(h));var k=this._getPrevStackedPosition(s,E.index,d,g,this.realYAxis,h>=0),r=b,l;if(b<=k)l=k-b;else{l=b-k;b=k}var u={chart:this.chart,series:this,dataItem:this.data[d],value:e.actualValue,x:this.realXAxis._getValue(d),y:h},n=new m(b,f,l,i);n.context=u;n.center={x:Math.round(r),y:Math.round(f+i/2)};this._setShapeSettings(n);o.push(n);f+=i/2;if(this.markers&&this.realYAxis.isValueVisible(h)){var x=this._getMarker(r,f,null,h);x.context=u;v.push(x)}if(this.labels&&this.labels.visible!==false&&e.actualValue!=0){var j=e.actualValue;switch(this.labels.valueType){case"percentage":var y=this._getStackedTotal(s,d),B=j>0?y.positive:y.negative;j=B!=0?100*Math.abs(j)/Math.abs(B):0}var p=this._getDataPointLabel(e.actualValue,r,f,-l/2,j);p.textBaseline="middle";p.textAlign="center";t.push(p)}}a.merge(o,v);a.merge(o,t)};H.prototype._getTooltip=function(b){var a="<b>"+b.value+"</b><br/>";if(this.title){var c=d.getColorFromFillStyle(this.fillStyle);a='<span style="color:'+c+'">'+this.title+"</span>: "+a}return a};function w(c){var d=a.extend(true,{},this.defaults,{lineWidth:2});this.defaults=d;b.call(this,c)}w.prototype=new b;w.constructor=w;w.prototype._initXYData=function(){for(var m=this.data,h=i,g=j,f=i,e=j,n=m.length,k=0;k<n;k++){var d=m[k];if(d==null||a.isArray(d)==false)continue;var b=d[0];if(f>b)f=b;if(e<b)e=b;for(var l=1;l<5;l++){var c=d[l];if(h>c)h=c;if(g<c)g=c}}this.min=h;this.max=g;this.minX=f;this.maxX=e};w.prototype._initCatValueData=function(){for(var h=this.data,e=i,d=j,c=[],k=h.length,b=0;b<k;b++){var f=h[b];if(f==null){c.push((b+1).toString());continue}c.push(f[0]);for(var g=1;g<5;g++){var a=f[g];if(e>a)e=a;if(d<a)d=a}}this.min=e;this.max=d;this.categories=c};w.prototype._initDateValueData=function(){for(var m=this.data,h=i,g=j,f=i,e=j,n=m.length,k=0;k<n;k++){var d=m[k];if(d==null||a.isArray(d)==false)continue;var b=d[0].getTime();if(f>b)f=b;if(e<b)e=b;for(var l=1;l<5;l++){var c=d[l];if(h>c)h=c;if(g<c)g=c}}this.min=h;this.max=g;this.minX=f;this.maxX=e};w.prototype._render=function(o){if(!this.data)return;var p=this.chart.gridArea,j=this.data.length,c,e,g,f,d,m=j,l=p.width/this.realXAxis.getZoom();width=this.pointWidth*l/m;for(var h=0;h<j;h++){var b=this.data[h];if(b==null||a.isArray(b)==false)continue;var i=h;switch(this.xAxisType){case"LinearAxis":case"DateTimeAxis":c=b[0];i=c;break;case"CategoryAxis":c=h+.5}e=b[1];g=b[2];f=b[3];d=b[4];var n={chart:this.chart,series:this,dataItem:b,x:this.realXAxis._getValue(i),high:e,low:g,open:f,close:d};c=this.realXAxis.getPosition(c);e=this.realYAxis.getPosition(e);g=this.realYAxis.getPosition(g);f=this.realYAxis.getPosition(f);d=this.realYAxis.getPosition(d);var k=this._createShape(c,e,g,f,d,width);k.context=n;o.push(k)}};w.prototype._createShape=function(g,d,f,e,b,c){var a=new y(g,d,f,e,b,c);this._setShapeSettings(a);return a};w.prototype._getPixelMargins=function(a){if(a.isVertical())return b.prototype._getPixelMargins.call(this,a);if(this.data==null)return{left:0,right:0};var e=4,f=this.data.length,d=a.length/this.realXAxis.getZoom(),c=.5*d/f+e;return{left:c,right:c}};w.prototype._getTooltip=function(a){var b="Open: <b>"+a.open.toString()+"</b></br>High: <b>"+a.high.toString()+"</b></br>Low: <b>"+a.low.toString()+"</b></br>Close: <b>"+a.close.toString()+"</b>";if(this.title){var c=d.getColorFromFillStyle(this.fillStyle);b='<div style="color:'+c+'">'+this.title+"</div>"+b}return b};function Q(c){var d=a.extend(true,{},this.defaults,{lineWidth:1});this.defaults=d;b.call(this,c)}Q.prototype=new w;Q.constructor=Q;Q.prototype._setShapeSettings=function(a){a.priceDownFillStyle=this.priceDownFillStyle||this.fillStyle;a.priceUpFillStyle=this.priceUpFillStyle;a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;a.lineJoin=this.lineJoin;a.miterLimit=this.miterLimit};Q.prototype._createShape=function(g,d,f,e,b,c){var a=new G(g,d,f,e,b,c);this._setShapeSettings(a);return a};function q(c){var d=a.extend(true,{},this.defaults,{lineWidth:2,markers:{}});this.defaults=d;b.call(this,c);this.notInGridArea=true}q.prototype=new b;q.constructor=q;q.prototype._createXAxis=function(){var a=new s;a.chart=this.chart;return a};q.prototype._createYAxis=function(){var a=new n;a.chart=this.chart;return a};q.prototype._findXAxis=function(b){var a=this._findAxis(b,this.axisX);if(a!=null)return a;for(var c=0;c<b.length;c++){a=b[c];if(a instanceof s)return a}return null};q.prototype._findYAxis=function(b){var a=this._findAxis(b,this.axisY);if(a!=null)return a;for(var c=0;c<b.length;c++){a=b[c];if(a instanceof n)return a}return null};q.prototype._render=function(h){if(!this.data)return;for(var u=this.data.length,i=[],k=[],j=[],p=this.markers&&this.markers.isVisible()?this.markers.size/2:0,e,f,b,v=this.realYAxis.cx,m=this.realYAxis.cy,d=0;d<u;d++){var g=this.data[d];if(g==null)continue;if(a.isArray(g)==false)b=g;else{b=g[1];if(typeof b!="number")continue}var t=this.realXAxis._getAngle(d);e=this.realYAxis.getPosition(b);f=m;var n=c.rotatePointAt(e,f,t,v,m);e=n.x;f=n.y;i.push(e);i.push(f);if(this.realYAxis.isValueVisible(b)===false)continue;if(this.markers&&this.markers.isVisible()){var q={chart:this.chart,series:this,dataItem:this.data[d],x:this.realXAxis._getValue(d),y:b},l=this._getMarker(e,f);l.context=q;k.push(l)}if(this.labels&&this.labels.visible!==false){var o=this._getLabelValue(b,d),s=this._getDataPointLabel(b,e,f,p,o);j.push(s)}}var r=this._createShape(i);h.push(r);a.merge(h,k);a.merge(h,j)};q.prototype._createShape=function(b){var a=new z(b);this._setShapeSettings(a);a.fillStyle=null;return a};q.prototype._getPixelMargins=function(){return{left:0,right:0}};function X(c){var d=a.extend(true,{},this.defaults,{lineWidth:0,markers:null});this.defaults=d;b.call(this,c)}X.prototype=new q;X.constructor=X;X.prototype._createShape=function(b){var a=new z(b);this._setShapeSettings(a);return a};function V(c){var d=a.extend(true,{},this.defaults,{lineWidth:0,markers:null});this.defaults=d;b.call(this,c)}V.prototype=new q;V.constructor=V;V.prototype._createShape=function(b){var a=new A(b,true);this._setShapeSettings(a);return a};function W(a){b.call(this,a)}W.prototype=new q;W.constructor=W;W.prototype._createShape=function(b){var a=new A(b,true);this._setShapeSettings(a);a.fillStyle=null;return a};function o(b,a){this.chart=b;a&&this.setOptions(a)}o.prototype.setOptions=function(c){c=c||{};for(var e=[],d=0;d<c.length;d++){var b=c[d],a;switch(b.type){case"category":a=new r(b);break;case"dateTime":a=new h(b);break;case"categoryAngle":a=new s(b);break;case"linearRadius":a=new n(b);break;case"linear":default:a=new g(b)}a._setChart(this.chart);e.push(a)}this.userAxes=e};o.prototype._initSeriesAxes=function(){var b=[];a.merge(b,this.userAxes);for(var e=this.chart.series.items,d=0;d<e.length;d++){var c=e[d];c._initXAxis(b);c._initYAxis(b);c._initSharedAxes()}this.items=b};o.prototype._initSeries=function(){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];c._initSeries()}};o.prototype._initRanges=function(){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];c._initRange()}};o.prototype._measure=function(){for(var c=this.items,a=false,b=0;b<c.length;b++){var e=c[b],d=e._measure();a=a||d}return a};o.prototype._arrange=function(){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];c._arrange()}};o.prototype._getAxesInLoc=function(e){for(var d=[],b=this.items,a=0;a<b.length;a++){var c=b[a];c.location==e&&d.push(c)}return d};o.prototype._getVAxes=function(){for(var d=[],b=this.items,a=0;a<b.length;a++){var c=b[a];c.isVertical()&&d.push(c)}return d};o.prototype._getHAxes=function(){for(var d=[],b=this.items,a=0;a<b.length;a++){var c=b[a];c.isVertical()==false&&d.push(c)}return d};o.prototype._getTotalWidth=function(){for(var a=0,c=this.items,b=0;b<c.length;b++){var d=c[b];if(d.isVertical())a=a+d.width}return a};o.prototype._getTotalHeight=function(){for(var a=0,c=this.items,b=0;b<c.length;b++){var d=c[b];if(d.isVertical()==false)a=a+d.height}return a};o.prototype._render=function(f){for(var d=this.items,c=[],b=0;b<d.length;b++){var g=d[b],e=g._render(f);e&&a.merge(c,e)}return c};o.prototype._updateOrigins=function(){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];c._updateOrigin()}};o.prototype._correctOrigins=function(){for(var b=this.items,a=0;a<b.length;a++){var c=b[a];c._correctOrigin&&c._correctOrigin()}};o.prototype.find=function(d){var b=this.items;if(d!=null)for(var a=0;a<b.length;a++){var c=b[a];if(c.name==d)return c}return null};function f(a){this.minZoomValue=.001;this.maxInter200Px=8;this.lblMargin=4;this.origin=0;this.length=300;this.x=0;this.y=0;this.setOptions(a)}f.prototype._initSeries=function(){for(var c=new t(null,this.chart),d=this.chart.series.items,b=0;b<d.length;b++){var a=d[b];(a.realXAxis==this||a.realYAxis==this)&&c.items.push(a)}this.series=c};f.prototype._setVisibleRanges=function(){var b=Math.max(this.zoomValue,this.minZoomValue);b=Math.min(b,1);var a=Math.max(this.scrollValue,0);a=Math.min(a,1);var c=this.reversed===true;if(c)a=1-a;this.range=this.actualMaximum-this.actualMinimum;this.visibleMinimum=this.actualMinimum+(1-b)*a*this.range;this.visibleMaximum=this.visibleMinimum+b*this.range};f.prototype._getNextPosition=function(b,a){return c.round(b+a)};f.prototype._getMarkInterval=function(b,c){var a;if(b.interval)a=b.interval;else if(c)a=this.actualInterval;else a=this.actualInterval/2;return a};f.prototype._getIntervals=function(c,b){var d=0;if(b&&b.intervalOffset)d=b.intervalOffset;for(var e=[],f=this._getIntervalStart(this.visibleMinimum,c),a=f+d;a<=this.visibleMaximum;a=this._getNextPosition(a,c))e.push(a);return e};f.prototype._getIntervalStart=function(d,b){var c=d-this.crossing,a=this._alignToInterval(c,b);if(a<d)a=this._alignToInterval(c+b,b);return a};f.prototype._alignToInterval=function(b,a){return c.round(c.round(Math.floor(b/a))*a)+this.crossing};f.prototype._getLabelIntervals=function(a,b){return this._getIntervals(a,b)};f.prototype._measureRotatedLabels=function(g){for(var h=this.isAxisVertical,d=0,b=0,c=0;c<g.length;c++){var a=g[c],e=Math.sqrt(a.width*a.width+a.height*a.height),f=a.rotationAngle;if(h){var j=Math.abs(Math.cos(f)*e);d=Math.max(d,j)}else{var i=Math.abs(Math.sin(f)*e);b=Math.max(b,i)}}return{w:d,h:b}};f.prototype._correctLabelsPositions=function(l){var k=0,j=0,m=this.reversed===true,n=this.isAxisVertical,g=this.lblMargin;if(n){for(var e=[],d=0;d<l.length;d++){var a=l[d],f=false,i=a.y;switch(a.textBaseline){case"middle":i-=a.height/2;break;case"bottom":i-=a.height}for(var c=0,c=0;c<e.length;c++){var b=e[c];if(m)f=i>b.y+b.h;else f=b.y>i+a.height;if(f){b.y=i;b.h=a.height;b.w=Math.max(b.w,a.width+g);b.labels.push(a);break}}if(f==false)e[c]={y:i,h:a.height,w:a.width+g,labels:[a]}}var p=this.location=="right";k=0;for(var d=0;d<e.length;d++){for(var b=e[d],c=0;c<b.labels.length;c++){var a=b.labels[c];if(p)a.x+=k;else a.x-=k}k+=b.w}}else{for(var e=[],d=0;d<l.length;d++){var a=l[d],h=a.x;switch(a.textAlign){case"center":h-=a.width/2;break;case"right":h-=a.width}for(var f=false,c=0,c=0;c<e.length;c++){var b=e[c];if(m)f=b.x>h+a.width+g;else f=h>b.x+b.w+g;if(f){b.x=h;b.w=a.width;b.h=Math.max(b.h,a.height+g);b.labels.push(a);f=true;break}}if(f==false)e[c]={x:h,w:a.width,h:a.height+g,labels:[a]}}var o=this.location=="bottom";j=0;for(var d=0;d<e.length;d++){for(var b=e[d],c=0;c<b.labels.length;c++){var a=b.labels[c];if(o)a.y+=j;else a.y-=j}j+=b.h}}return{w:k,h:j}};f.prototype._measure=function(){var a;if(this.labels.angle)a=this._measureRotatedLabels(this._getLabels());else a=this._correctLabelsPositions(this._getLabels());this.title._measure();if(this.isAxisVertical)a.w+=this.title.height;else a.h+=this.title.height;var b=this.margin+this._getMaxTickMarksLength();if(this.isAxisVertical){if(this.isCustomWidth==false){var d=a.w+b;if(this.width!=d){this.width=d;return true}}}else if(this.isCustomHeight==false){var c=a.h+b;if(this.height!=c){this.height=c;return true}}return false};f.prototype._arrange=function(){var a=this.x,d=this.y,b=this.x+this.width,e=this.y+this.height;switch(this.location){case"left":b=a=this.x+this.width;break;case"right":b=a=this.x;break;case"top":e=d=this.y+this.height;break;case"bottom":e=d=this.y}if(this.title.text)switch(this.location){case"left":this.title.rotX=this.x;this.title.rotY=this.y+(this.height+this.title.width)/2;this.title.rotationAngle=c.radians(-90);break;case"right":this.title.rotX=this.x+this.width;this.title.rotY=this.y+(this.height-this.title.width)/2;this.title.rotationAngle=c.radians(90);break;case"top":this.title.x=this.x+(this.width-this.title.width)/2;this.title.y=this.y;break;case"bottom":this.title.x=this.x+(this.width-this.title.width)/2;this.title.y=this.y+this.height-this.title.height}this.x1=a;this.y1=d;this.x2=b;this.y2=e};f.prototype._updateOrigin=function(){if(this.isAxisVertical){this.origin=this.y;this.length=this.height}else{this.origin=this.x;this.length=this.width}};f.prototype._render=function(b){var e=this._getTickMarks(this.minorTickMarks,false);a.merge(b,e);var d=this._getTickMarks(this.majorTickMarks,true);a.merge(b,d);var f=this._getMainLine();b.push(f);var c=this._getLabels();!this.labels.angle&&this._correctLabelsPositions(c);this.title._render(b);a.merge(b,c)};f.prototype._getMainLine=function(){var a=new k(this.x1,this.y1,this.x2,this.y2);a.strokeStyle=this.strokeStyle;a.lineWidth=this.lineWidth;return a};f.prototype._getMaxTickMarksLength=function(){var a=0;if(this.minorTickMarks!=null&&this.minorTickMarks.visible)a=Math.max(a,this.minorTickMarks.length);if(this.majorTickMarks!=null&&this.majorTickMarks.visible)a=Math.max(a,this.majorTickMarks.length);return a};f.prototype._getLabels=function(){var f=this.labels;if(f==null||f.visible===false)return[];var h=this._getMaxTickMarksLength()+this.lblMargin,k=[],m=this._getMarkInterval(f,true);if(!m)return[];for(var l=this._getLabelIntervals(m,f),j=0;j<l.length;j++){var n=l[j],o=this.getLabel(n),b=new p(o);a.extend(b,f);b.measure(this.chart.ctx);var i=this.getPosition(n);switch(this.location){case"left":b.x=this.x+this.width-h;b.y=i;b.textAlign="right";if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle)),e=c.radians(d);b.rotX=b.x;b.rotY=b.y;b.rotationAngle=e}break;case"right":b.x=this.x+h;b.y=i;if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle)),e=c.radians(d);b.rotX=b.x;b.rotY=b.y;b.rotationAngle=e}break;case"top":b.x=i;b.y=this.y+this.height-h-b.height/2;b.textAlign="center";b.textBaseline="middle";if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle));b.flip=d>0;if(d>0)d=-180+d;var e=c.radians(d),g=Math.sqrt(b.width*b.width+b.height*b.height);b.rotX=b.x+.5*Math.cos(e)*g;b.rotY=b.y+.5*Math.sin(e)*g;b.rotationAngle=e}break;case"bottom":b.x=i;b.y=this.y+h+b.height/2;b.textAlign="center";b.textBaseline="middle";if(this.labels.angle){var d=Math.min(90,Math.max(-90,this.labels.angle));b.flip=d<0;if(d<0)d=180+d;var e=c.radians(d),g=Math.sqrt(b.width*b.width+b.height*b.height);b.rotX=b.x+.5*Math.cos(e)*g;b.rotY=b.y+.5*Math.sin(e)*g;b.rotationAngle=e}}k.push(b)}return k};f.prototype._getTickMarks=function(b,l){if(b==null||b.visible!=true)return[];for(var i=[],n=this._getMarkInterval(b,l),f=b.length,j=this._getIntervals(n,b,l),c,e,d,a,h=0;h<j.length;h++){var g=this.getPosition(j[h]);switch(this.location){case"left":e=a=g;d=this.x+this.width;c=d-f;break;case"right":e=a=g;c=this.x;d=c+f;break;case"top":c=d=g;a=this.y+this.height;e=a-f;break;case"bottom":c=d=g;a=this.y;e=a+f}var m=new k(c,e,d,a);b._setLineSettings(m);i.push(m)}return i};f.prototype._setChart=function(a){this.chart=a;this.title.chart=a};f.prototype._getValue=function(a){return a};f.prototype._initRadialMeasures=function(){var a=Math.min(this.width,this.height);this.cx=this.x+this.width/2;this.cy=this.y+this.height/2;this.radius=a/2};f.prototype._getTotalPositionOffset=function(){return 0};f.prototype.getZoom=function(){return this.zoomEnabled!==true?1:this.zoomValue};f.prototype.setOptions=function(c){if(c!=null&&typeof c.title=="string"){c.title={text:c.title};a.extend(c.title,this.defaults.title)}var b=a.extend(true,{},this.defaults,c||{});a.extend(this,b);this.isCustomWidth=this.width!=null;this.isCustomHeight=this.height!=null;this.majorTickMarks=new db(b.majorTickMarks);if(b.minorTickMarks){this.minorTickMarks=new db(b.minorTickMarks);this.minorTickMarks.major=this.majorTickMarks}if(b.majorGridLines)this.majorGridLines=new ab(b.majorGridLines);if(b.minorGridLines){this.minorGridLines=new ab(b.minorGridLines);this.minorGridLines.major=this.majorGridLines}this.isAxisVertical=this.isVertical();this.title=new U(b.title)};f.prototype.getPosition=function(e){var d=this.visibleMaximum-this._getTotalPositionOffset(),a=this.length/(d-this.visibleMinimum)*(e-this.visibleMinimum),b=this.reversed===true,c=this.isAxisVertical;if(c&&b===false||c===false&&b)a=this.origin+this.length-a;else a+=this.origin;return a};f.prototype.getLabel=function(d){var b=null;if(this.labels!=null)b=this.labels.stringFormat;var c=a.fn.jqChart.labelFormatter(b,d);return c};f.prototype.isVertical=function(){return this.location=="left"||this.location=="right"?true:false};f.prototype.isValueVisible=function(a){return a>=this.visibleMinimum&&a<=this.visibleMaximum};f.prototype.defaults={labels:{fillStyle:"black",lineWidth:1,font:"11px sans-serif",visible:true},title:{font:"14px sans-serif",margin:2},strokeStyle:"black",lineWidth:1,margin:5,crossing:0,reversed:false,zoomEnabled:false,zoomValue:1,scrollValue:0};function r(a){f.call(this,a);this.DataType="CategoryAxis"}r.prototype=new f;r.constructor=r;r.prototype._initRange=function(){var b=this.series;b._initCategories();var c=b.categories,a=c.length;if(this.categories)a=Math.max(a,this.categories.length);this.actualMinimum=0;this.actualMaximum=a;this._setVisibleRanges();this.actualInterval=1;this.seriesCategories=c};r.prototype._getLabelIntervals=function(d,b){var e=0;if(b&&b.intervalOffset)e=b.intervalOffset;for(var f=[],h=Math.round(this.visibleMinimum),g=this._getIntervalStart(h,d)+.5,a=g+e;a<=this.visibleMaximum;a=c.round(a+d))f.push(a);return f};r.prototype._getIntervalCount=function(){return this.categories.length};r.prototype._getValue=function(c){var b=Math.round(c),a;if(this.categories&&b<this.categories.length)a=this.categories[b];else a=this.seriesCategories[b];return a};r.prototype.getLabel=function(c){var a=Math.round(c-.5),b;if(this.categories&&a<this.categories.length)b=this.categories[a];else b=this.seriesCategories[a];return f.prototype.getLabel.call(this,b)};r.prototype.getOrientation=function(){return"x"};function Y(a){f.call(this,a)}Y.prototype=new f;Y.constructor=Y;function g(b){var c=a.extend(true,{},this.defaults,{logarithmic:false,logBase:10});this.defaults=c;Y.call(this,b);this.DataType="LinearAxis"}g.prototype=new Y;g.constructor=g;g.prototype._initRange=function(){var g=this.series;g._initRanges();var f,e;if(this.getOrientation()=="x"){f=g.minX;e=g.maxX}else{f=g.min;e=g.max}if(f==i&&e==j){f=0;e=10}var m=Math.abs(e-f)-this._getTotalPositionOffset();if(m==0)m=1;var p=g._getPixelMargins(this),n=m/this.length,l=n*(p.left+.5),k=n*(p.right+.5);if(this.logarithmic===true){l=c.log(l,this.logBase);k=c.log(k,this.logBase)}var a=f-l,b=e+k,q=this.series._isAnchoredToOrigin(),d=this.crossing;if(q&&this.getOrientation()=="y")if(f>=d&&a<d)a=d;else if(e<=d&&b>d)b=d;if(this.extendRangeToOrigin)if(a>d)a=d;else if(b<d)b=d;if(this.logarithmic===true){var o=1;if(a<o)a=o;a=c.log(a,this.logBase);b=c.log(b,this.logBase);var h=this._calculateActualIntervalLogarithmic(a,b);a=c.round(Math.floor(a/h)*h);b=c.round(Math.ceil(b/h)*h)}this._setMinMax(a,b);this._setVisibleRanges();if(this.logarithmic===true)this.actualInterval=this._calculateActualIntervalLogarithmic(this.visibleMinimum,this.visibleMaximum);else this.actualInterval=this._calculateActualInterval(this.visibleMinimum,this.visibleMaximum)};g.prototype._setMinMax=function(b,a){if(this.minimum!=null)this.actualMinimum=this.minimum;else this.actualMinimum=b;if(this.maximum!=null)this.actualMaximum=this.maximum;else this.actualMaximum=a};g.prototype._calculateActualIntervalLogarithmic=function(e,d){if(this.interval)return this.interval;var b=(d-e)/3,a=Math.floor(c.log10(Math.abs(b)));if(a==0)a=1;return c.round(Math.floor(b/a)*a)};g.prototype._calculateActualInterval=function(m,l){if(this.interval)return this.interval;var h=1;if(this.getOrientation()=="x")h=.8;for(var k=h*this.maxInter200Px,e=Math.max(this.length*k/200,1),g=l-m,a=g/e,j=Math.pow(10,Math.floor(c.log10(a))),f=[10,5,2,1],b=0;b<f.length;b++){var i=f[b],d=j*i;if(e<g/d)break;a=d}return a};g.prototype._getIntervals=function(b,a,i){if(this.logarithmic===false)return f.prototype._getIntervals.call(this,b,a);if(i===false)return this._getLogarithmicMinorIntervals(b,a);var e=0;if(a&&a.intervalOffset)e=a.intervalOffset;for(var g=[],h=this._getIntervalStart(this.visibleMinimum,b),d=h+e;d<=this.visibleMaximum;d=c.round(d+b))g.push(Math.pow(this.logBase,d));return g};g.prototype._getLogarithmicMinorIntervals=function(m,k){for(var l=this._getMarkInterval(k.major,true),h=this._getIntervals(l,k.major,true),j=[],d=null,g=0;g<h.length;g++){var f=h[g];if(d==null){d=f;continue}var a=d,b=f;if(a<b){var n=a;a=b;b=n}var i=(a-b)*m/10,e=b+i;while(e<a){j.push(c.round(e));e+=i}d=f}return j};g.prototype._getIntervalCount=function(){return Math.ceil(this.actualMaximum-this.actualMinimum)};g.prototype.getCrossingPosition=function(){return this.getPosition(this.crossing)};g.prototype.getOrientation=function(b){var a=this.isVertical();if(this.series)for(var c=0;c<this.series.items.length;c++)b=this.series.items[c].type;if(b=="bar"||b=="stackedbar")a=!a;return a?"y":"x"};g.prototype.getPosition=function(a){if(this.logarithmic==true)a=c.log(a,this.logBase);var b=f.prototype.getPosition.call(this,a);return b};function h(b){var c=a.extend(true,{},this.defaults,{labels:{yearsIntervalStringFormat:"yyyy",monthsIntervalStringFormat:a.fn.jqChart.dateFormat.masks.shortDate,weeksIntervalStringFormat:a.fn.jqChart.dateFormat.masks.shortDate,daysIntervalStringFormat:a.fn.jqChart.dateFormat.masks.shortDate,hoursIntervalStringFormat:a.fn.jqChart.dateFormat.masks.shortTime,minutesIntervalStringFormat:a.fn.jqChart.dateFormat.masks.shortTime,secondsIntervalStringFormat:a.fn.jqChart.dateFormat.masks.mediumTime,millisecondsIntervalStringFormat:a.fn.jqChart.dateFormat.masks.mediumTime},skipEmptyDays:false});this.defaults=c;g.call(this,b);this.DataType="DateTimeAxis"}h.prototype=new g;h.constructor=h;h.prototype._initRange=function(){g.prototype._initRange.call(this);this._initActualStringFormat();if(this.skipEmptyDays===true){this.emptyDays=this._getEmptyDays();this.totalEmptyDaysTicks=this.emptyDays.length*e.ticksInDay}};h.prototype._setMinMax=function(c,b){if(this.minimum!=null)if(a.type(this.minimum)=="date")this.actualMinimum=this.minimum.getTime();else this.actualMinimum=this.minimum;else this.actualMinimum=c;if(this.maximum!=null)if(a.type(this.minimum)=="date")this.actualMaximum=this.maximum.getTime();else this.actualMaximum=this.maximum;else this.actualMaximum=b};h.prototype._calculateActualInterval=function(c,b){var a=this._calculateDateTimeInterval(c,b);if(this.intervalType!=null)this.actualIntervalType=this.intervalType;else this.actualIntervalType=this.type;if(this.interval!=null)a=this.interval;return a};h.prototype._calculateDateTimeInterval=function(j,i){var h=i-j,f=.8*this.maxInter200Px,g=Math.max(1,this.length),e=g/(200*10/f),b=h/e;this.type="year";var a=b/(1e3*60);if(a<=1){if(b<=10){this.type="milliseconds";return 1}if(b<=50){this.type="milliseconds";return 4}if(b<=200){this.type="milliseconds";return 20}if(b<=500){this.type="milliseconds";return 50}var c=b/1e3;if(c<=7){this.type="seconds";return 1}if(c<=15){this.type="seconds";return 2}if(c<=30){this.type="seconds";return 5}if(c<=60){this.type="seconds";return 10}}else if(a<=2){this.type="seconds";return 20}if(a<=3){this.type="Seconds";return 30}if(a<=10){this.type="minutes";return 1}if(a<=20){this.type="minutes";return 2}if(a<=60){this.type="minutes";return 5}if(a<=120){this.type="minutes";return 10}if(a<=180){this.type="minutes";return 30}if(a<=60*12){this.type="hours";return 1}if(a<=60*24){this.type="hours";return 4}if(a<=60*24*2){this.type="hours";return 6}if(a<=60*24*3){this.type="hours";return 12}if(a<=60*24*10){this.type="days";return 1}if(a<=60*24*20){this.type="days";return 2}if(a<=60*24*30){this.type="days";return 3}if(a<=60*24*30.5*2){this.type="weeks";return 1}if(a<=60*24*30.5*5){this.type="weeks";return 2}if(a<=60*24*30.5*12){this.type="months";return 1}if(a<=60*24*30.5*24){this.type="months";return 3}if(a<=60*24*30.5*48){this.type="months";return 6}this.type="years";var d=a/60/24/365;return d<5?1:d<10?2:Math.floor(d/5)};h.prototype._incrementDateTime=function(h,b,c){var a=new Date(h),d=0;if(c=="days")a=e.addDays(a,b);else if(c=="hours")d=e.fromHours(b);else if(c=="milliseconds")d=b;else if(c=="seconds")d=e.fromSeconds(b);else if(c=="minutes")d=e.fromMinutes(b);else if(c=="weeks")a=e.addDays(a,7*b);else if(c=="months"){var f=false;if(a.getDate()==e.getDaysInMonth(a.getFullYear(),a.getMonth()))f=true;a=e.addMonths(a,Math.floor(b));d=e.fromDays(30*(b-Math.floor(b)));if(f&&d==0){var g=e.getDaysInMonth(a.getFullYear(),a.getMonth());a=e.addDays(a,g-a.getDate())}}else if(c=="years"){a=e.addYears(a,Math.floor(b));d=e.fromDays(365*(b-Math.floor(b)))}return a.getTime()+d};h.prototype._getIntervalStart=function(j,b,d){if(d==null)return j;var a=new Date(j);if(b>0&&b!=1)if(d=="months"&&b<=12&&b>1){var i=a,c=new Date(a.getFullYear(),0,1,0,0,0);while(c<a){i=c;c=e.addMonths(c,b)}a=i;return a.getTime()}switch(d){case"years":var g=a.getFullYear()/b*b;if(g<=0)g=1;a=new Date(g,0,1,0,0,0);break;case"months":var f=a.getMonth()/b*b;if(f<0)f=0;a=new Date(a.getFullYear(),f,1,0,0,0);break;case"days":var h=a.getDate()/b*b;if(h<=0)h=1;a=new Date(a.getFullYear(),a.getMonth(),h,0,0,0);break;case"hours":var n=a.getHours()/b*b;a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),n,0,0);break;case"minutes":var l=a.getMinutes()/b*b;a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),l,0);break;case"seconds":var m=a.getSeconds()/b*b;a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),m,0);break;case"milliseconds":var k=a.getMilliseconds()/b*b;a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),k);break;case"weeks":a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);a=e.addDays(a,-e.getDayOfWeek(a))}return a.getTime()};h.prototype._initActualStringFormat=function(){if(!this.labels||this.labels.visible===false)return;if(this.labels.stringFormat){this.actualStringFormat=this.labels.stringFormat;return}switch(this.actualIntervalType){case"years":this.actualStringFormat=this.labels.yearsIntervalStringFormat;break;case"months":this.actualStringFormat=this.labels.monthsIntervalStringFormat;break;case"weeks":this.actualStringFormat=this.labels.weeksIntervalStringFormat;break;case"days":this.actualStringFormat=this.labels.daysIntervalStringFormat;break;case"hours":this.actualStringFormat=this.labels.hoursIntervalStringFormat;break;case"minutes":this.actualStringFormat=this.labels.minutesIntervalStringFormat;break;case"seconds":this.actualStringFormat=this.labels.secondsIntervalStringFormat;break;case"milliseconds":this.actualStringFormat=this.labels.millisecondsIntervalStringFormat;break;default:this.actualStringFormat="default"}};h.prototype._getIntervals=function(e,c){var g=[],a=this._getIntervalStart(this.visibleMinimum,e,this.actualIntervalType);while(a<this.visibleMinimum)a=this._incrementDateTime(a,e,this.actualIntervalType);if(c&&c.intervalOffset){var f=this.actualIntervalType,i=c.intervalOffset;if(c.intervalOffsetType)f=c.intervalOffsetType;a=this._incrementDateTime(a,i,f)}for(var h=this.skipEmptyDays===true,b=a;b<=this.visibleMaximum;b=this._incrementDateTime(b,e,this.actualIntervalType)){var d=this._getNextNonEmptyDay(b);if(d){if(h&&b<d)b=d;g.push(d)}}return g};h.prototype._getIntervalCount=function(){var a=this.actualMaximum-this.actualMinimum;a=Math.ceil(a/e.ticksInDay);return a};h.prototype._getNextNonEmptyDay=function(c){if(!this.emptyDays)return c;var d=a.inArray(c,this.emptyDays);if(d==-1)return c;for(var f=e.addDays(new Date(c),1),b=f;b<=this.visibleMaximum;b=e.addDays(b,1)){var d=a.inArray(b.getTime(),this.emptyDays);if(d==-1)return b}return null};h.prototype._getEmptyDaysOffset=function(c){for(var b=0,a=0;a<this.emptyDays.length;a++){var d=this.emptyDays[a];if(d<c)b++;else break}return b*e.ticksInDay};h.prototype._getEmptyDays=function(){for(var b=[],a=0;a<this.series.items.length;a++){var c=this.series.items[a];if(a==0)b=this._getEmptyDaysFromSeries(c);else this._excludeDaysFromSeries(c,b)}return b};h.prototype._getEmptyDaysFromSeries=function(i){var g=[],b=[];a.merge(b,i.data);b.sort(function(a,b){return a[0]-b[0]});b.push([new Date(this.visibleMaximum),0]);var c=e.roundToDay(new Date(this.visibleMinimum));c=e.addDays(c,1);for(var d=0;d<b.length;d++){for(var h=e.roundToDay(b[d][0]),j=(h-c)/e.ticksInDay,f=1;f<j;f++)g.push(e.addDays(c,f).getTime());c=h}return g};h.prototype._excludeDaysFromSeries=function(c,b){a.each(c.data,function(g,d){var f=e.roundToDay(d[0]).getTime(),c=a.inArray(f,b);c!=-1&&b.splice(c,1)})};h.prototype._getTotalPositionOffset=function(){return this.totalEmptyDaysTicks?this.totalEmptyDaysTicks:0};h.prototype.getPosition=function(b){if(a.type(b)=="date")b=b.getTime();var c=0;if(this.skipEmptyDays===true)c=this._getEmptyDaysOffset(b);var d=g.prototype.getPosition.call(this,b-c);return d};h.prototype.getLabel=function(b){if(!this.labels||this.labels.visible===false||!this.actualStringFormat)return;var c=new Date(b);return a.fn.jqChart.dateFormat(c,this.actualStringFormat)};function n(b){var c=a.extend(true,{},this.defaults,{innerExtent:.2,renderStyle:"circle",majorTickMarks:{visible:false},majorGridLines:{strokeStyle:"gray",lineWidth:1,visible:true}});this.defaults=c;g.call(this,b);this.DataType="LinearRadiusAxis";this.location="radial"}n.prototype=new g;n.constructor=n;n.prototype.getOrientation=function(){return"y"};n.prototype._measure=function(){this.width=0;this.height=0;return false};n.prototype._arrange=function(){this._initRadialMeasures()};n.prototype._updateOrigin=function(){var a=this.innerExtent*this.radius;this.origin=this.cx+a;this.length=this.radius-a;this.extent=a};n.prototype._getLabels=function(){var d=this.labels;if(d==null||d.visible===false)return[];for(var k=this._getMaxTickMarksLength()+this.lblMargin,f=[],l=this._getMarkInterval(d,true),g=this._getLabelIntervals(l,d),e=0;e<g.length;e++){var h=g[e],j=this.getLabel(h),b=new p(j);a.extend(b,d);b.measure(this.chart.ctx);var m=this.getPosition(h),o=this.cy,n=m,i=c.rotatePointAt(n,o,-Math.PI/2,this.cx,this.cy);b.x=i.x-k;b.y=i.y;b.textAlign="right";f.push(b)}return f};n.prototype._getTickMarks=function(a,l){if(a==null||a.visible!=true)return[];for(var h=[],s=this._getMarkInterval(a,l),t=a.length,j=this._getIntervals(s,a,l),g=this.sharedAxis,f=g._getIntervals(g.actualInterval),p,r,q,b,d=0;d<j.length;d++){var u=this.getPosition(j[d]);p=q=u;b=this.cy;r=b-t;for(var e=0;e<f.length;e++){var v=f[e],i=this.sharedAxis._getAngle(v),n=c.rotatePointAt(p,r,i,this.cx,this.cy),o=c.rotatePointAt(q,b,i,this.cx,this.cy),m=new k(n.x,n.y,o.x,o.y);a._setLineSettings(m);h.push(m)}}return h};n.prototype._getGridLines=function(a,g){if(a==null||a.visible!=true)return[];for(var d=[],h=this._getMarkInterval(a,g),e=this._getIntervals(h,a,true),c=0;c<e.length;c++){var f=e[c],b=this._getRenderShape(f);a._setLineSettings(b);b.fillStyle=null;d.push(b)}return d};n.prototype._render=function(d){var f=this._getGridLines(this.minorGridLines,false);a.merge(d,f);var e=this._getGridLines(this.majorGridLines,true);a.merge(d,e);var b=[],i=this._getTickMarks(this.minorTickMarks,false);a.merge(b,i);var h=this._getTickMarks(this.majorTickMarks,true);a.merge(b,h);var c=this._getRenderShape(this.actualMinimum);c.strokeStyle=this.strokeStyle;c.lineWidth=this.lineWidth;c.fillStyle=null;d.push(c);var g=this._getLabels();a.merge(b,g);return b};n.prototype._getRenderShape=function(b){var d=this.getPosition(b),a=d-this.origin+this.extent,c=this._createRenderShape(this.cx-a,this.cy-a,a);return c};n.prototype._createRenderShape=function(g,h,f){if(this.renderStyle!="polygon")return new O(g,h,f);for(var j=this.sharedAxis,a=[],d=this.sharedAxis.actualMaximum,i=2*Math.PI/d,g=this.cx,h=this.cy-f,b=0;b<d;b++){var e=c.rotatePointAt(g,h,b*i,this.cx,this.cy);a.push(e.x);a.push(e.y)}return new z(a)};function s(b){var c=a.extend(true,{},this.defaults,{strokeStyle:"gray",renderLinesOverGraph:true});this.defaults=c;f.call(this,b);this.DataType="CategoryAngleAxis";this.location="radial"}s.prototype=new r;s.constructor=s;s.prototype._measure=function(){this.width=0;this.height=0;return false};s.prototype._arrange=function(){this._initRadialMeasures()};s.prototype._updateOrigin=function(){this.origin=this.cx;this.length=this.radius};s.prototype._correctOrigin=function(){for(var a=0,j=this.x,k=this.y,i=this.x+this.width,f=this.y+this.height,g=this._getLabels(),c=0;c<g.length;c++){var b=g[c];if(b.x<j)a=Math.max(a,j-b.x);var e=b.x+b.width;if(e>i)a=Math.max(a,e-i);var h=b.y-b.height/2;if(h<k)a=Math.max(a,k-h);var d=b.y+b.height/2;if(d>f)a=Math.max(a,d-f)}this.radius-=a;this.length=this.radius;if(this.sharedAxis){this.sharedAxis.radius=this.radius;this.sharedAxis._updateOrigin();this.sharedAxis._initRange()}};s.prototype._getAngle=function(b){var d=this.actualMaximum,c=2*Math.PI/d,a=b*c;if(this.reversed===true)a=2*Math.PI-a;return a-Math.PI/2};s.prototype._getLabels=function(){var g=this.labels;if(g==null||g.visible===false)return[];var h=this.actualMaximum;if(h==0)return;for(var j=this.cx,k=this.cy,o=j,q=k-this.radius,n=2*Math.PI/h,d=8,i=[],g=this.labels,f=0;f<h;f++){var e=f*n,l=c.rotatePointAt(o,q,e,j,k),m=this.getLabel(f),b=new p(m);a.extend(b,g);b.measure(this.chart.ctx);b.x=l.x;b.y=l.y;if(e==Math.PI){b.x-=b.width/2;b.y+=d}else if(e==0){b.x-=b.width/2;b.y-=d}else if(e>Math.PI)b.x-=b.width+d;else b.x+=d;i.push(b)}return i};s.prototype._render=function(n){var f=[],g=this.actualMaximum;if(g==0)return;for(var d=this.cx,e=this.cy,q=d,s=e-this.sharedAxis.extent,r=d,t=e-this.radius,o=this.renderLinesOverGraph===true,p=2*Math.PI/g,h=0;h<g;h++){var i=h*p,j=c.rotatePointAt(q,s,i,d,e),l=c.rotatePointAt(r,t,i,d,e),b=new k(j.x,j.y,l.x,l.y);b.strokeStyle=this.strokeStyle;b.lineWidth=this.lineWidth;if(o)f.push(b);else n.push(b)}var m=this._getLabels();a.merge(f,m);return f}})(jQuery)